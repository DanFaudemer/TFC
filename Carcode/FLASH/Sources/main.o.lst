   1              		.cpu cortex-m0
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.code	16
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	coeff_dir_P
  18              		.section	.data.coeff_dir_P,"aw",%progbits
  19              		.align	1
  22              	coeff_dir_P:
  23 0000 0802     		.short	520
  24              		.global	coeff_dir_D
  25              		.section	.data.coeff_dir_D,"aw",%progbits
  26              		.align	1
  29              	coeff_dir_D:
  30 0000 7201     		.short	370
  31              		.global	coeff_dir_I
  32              		.section	.bss.coeff_dir_I,"aw",%nobits
  33              		.align	1
  36              	coeff_dir_I:
  37 0000 0000     		.space	2
  38              		.global	coeff_diff_P
  39              		.section	.data.coeff_diff_P,"aw",%progbits
  40              		.align	1
  43              	coeff_diff_P:
  44 0000 0200     		.short	2
  45              		.global	coeff_diff_I
  46              		.section	.bss.coeff_diff_I,"aw",%nobits
  47              		.align	1
  50              	coeff_diff_I:
  51 0000 0000     		.space	2
  52              		.global	coeff_diff_D
  53              		.section	.data.coeff_diff_D,"aw",%progbits
  54              		.align	1
  57              	coeff_diff_D:
  58 0000 0200     		.short	2
  59              		.global	coeff_speed_P
  60              		.section	.data.coeff_speed_P,"aw",%progbits
  61              		.align	1
  64              	coeff_speed_P:
  65 0000 3400     		.short	52
  66              		.global	coeff_speed_I
  67              		.section	.bss.coeff_speed_I,"aw",%nobits
  68              		.align	1
  71              	coeff_speed_I:
  72 0000 0000     		.space	2
  73              		.global	coeff_speed_D
  74              		.section	.data.coeff_speed_D,"aw",%progbits
  75              		.align	1
  78              	coeff_speed_D:
  79 0000 0A00     		.short	10
  80              		.global	differentiel_max
  81              		.section	.data.differentiel_max,"aw",%progbits
  82              		.align	1
  85              	differentiel_max:
  86 0000 2C01     		.short	300
  87              		.global	vit_max
  88              		.section	.data.vit_max,"aw",%progbits
  89              		.align	1
  92              	vit_max:
  93 0000 5802     		.short	600
  94              		.global	vit_min
  95              		.section	.data.vit_min,"aw",%progbits
  96              		.align	1
  99              	vit_min:
 100 0000 C201     		.short	450
 101              		.global	break_min_error
 102              		.section	.bss.break_min_error,"aw",%nobits
 105              	break_min_error:
 106 0000 00       		.space	1
 107              		.comm	posCenter,2,2
 108              		.comm	diff,2,2
 109              		.global	PWM_lights
 110              		.section	.data.PWM_lights,"aw",%progbits
 111              		.align	1
 114              	PWM_lights:
 115 0000 983A     		.short	15000
 116              		.global	cur_state
 117              		.section	.bss.cur_state,"aw",%nobits
 120              	cur_state:
 121 0000 00       		.space	1
 122              		.global	vitesseG
 123              		.section	.bss.vitesseG,"aw",%nobits
 124              		.align	1
 127              	vitesseG:
 128 0000 0000     		.space	2
 129              		.global	vitesseD
 130              		.section	.bss.vitesseD,"aw",%nobits
 131              		.align	1
 134              	vitesseD:
 135 0000 0000     		.space	2
 136              		.global	lineError
 137              		.section	.bss.lineError,"aw",%nobits
 138              		.align	1
 141              	lineError:
 142 0000 0000     		.space	2
 143              		.global	Run_F
 144              		.section	.bss.Run_F,"aw",%nobits
 145              		.align	2
 148              	Run_F:
 149 0000 00000000 		.space	4
 150              		.comm	LineScanBufferCopyFiltered,256,4
 151              		.comm	copyDerivate,256,4
 152              		.comm	pid_speedCopy,2,2
 153              		.comm	pid_diffCopy,2,2
 154              		.global	TFC_Ticker_0_copy
 155              		.section	.bss.TFC_Ticker_0_copy,"aw",%nobits
 156              		.align	2
 159              	TFC_Ticker_0_copy:
 160 0000 00000000 		.space	4
 161              		.section	.rodata
 162              		.align	2
 163              	.LC1:
 164 0000 52756E5F 		.ascii	"Run_F\000"
 164      4600
 165 0006 0000     		.align	2
 166              	.LC4:
 167 0008 56697465 		.ascii	"VitesseG\000"
 167      73736547 
 167      00
 168 0011 000000   		.align	2
 169              	.LC7:
 170 0014 56697465 		.ascii	"VitesseD\000"
 170      73736544 
 170      00
 171 001d 000000   		.align	2
 172              	.LC10:
 173 0020 50494420 		.ascii	"PID Speed\000"
 173      53706565 
 173      6400
 174 002a 0000     		.align	2
 175              	.LC13:
 176 002c 50494420 		.ascii	"PID Diff\000"
 176      44696666 
 176      00
 177 0035 000000   		.align	2
 178              	.LC16:
 179 0038 43656E74 		.ascii	"Center position\000"
 179      65722070 
 179      6F736974 
 179      696F6E00 
 180              		.align	2
 181              	.LC19:
 182 0048 4C696E65 		.ascii	"Line error\000"
 182      20657272 
 182      6F7200
 183 0053 00       		.align	2
 184              	.LC22:
 185 0054 4C696768 		.ascii	"Lights PWM\000"
 185      74732050 
 185      574D00
 186 005f 00       		.align	2
 187              	.LC25:
 188 0060 436F6D6D 		.ascii	"Commande servo\000"
 188      616E6465 
 188      20736572 
 188      766F00
 189 006f 00       		.align	2
 190              	.LC28:
 191 0070 4E6F6D62 		.ascii	"Nombre de lignes\000"
 191      72652064 
 191      65206C69 
 191      676E6573 
 191      00
 192 0081 000000   		.align	2
 193              	.LC31:
 194 0084 6C696E65 		.ascii	"line\000"
 194      00
 195 0089 000000   		.align	2
 196              	.LC34:
 197 008c 6C696E65 		.ascii	"line filtered\000"
 197      2066696C 
 197      74657265 
 197      6400
 198 009a 0000     		.align	2
 199              	.LC37:
 200 009c 6C696E65 		.ascii	"line derivate\000"
 200      20646572 
 200      69766174 
 200      6500
 201 00aa 0000     		.align	2
 202              	.LC40:
 203 00ac 5469636B 		.ascii	"Ticker 0\000"
 203      65722030 
 203      00
 204 00b5 000000   		.align	2
 205              	.LC43:
 206 00b8 636F6566 		.ascii	"coeff_dir_P\000"
 206      665F6469 
 206      725F5000 
 207              		.align	2
 208              	.LC46:
 209 00c4 636F6566 		.ascii	"coeff_dir_D\000"
 209      665F6469 
 209      725F4400 
 210              		.align	2
 211              	.LC49:
 212 00d0 636F6566 		.ascii	"coeff_dir_I\000"
 212      665F6469 
 212      725F4900 
 213              		.align	2
 214              	.LC52:
 215 00dc 636F6566 		.ascii	"coeff_diff_P\000"
 215      665F6469 
 215      66665F50 
 215      00
 216 00e9 000000   		.align	2
 217              	.LC55:
 218 00ec 636F6566 		.ascii	"coeff_diff_I\000"
 218      665F6469 
 218      66665F49 
 218      00
 219 00f9 000000   		.align	2
 220              	.LC58:
 221 00fc 636F6566 		.ascii	"coeff_diff_D\000"
 221      665F6469 
 221      66665F44 
 221      00
 222 0109 000000   		.align	2
 223              	.LC61:
 224 010c 636F6566 		.ascii	"coeff_speed_P\000"
 224      665F7370 
 224      6565645F 
 224      5000
 225 011a 0000     		.align	2
 226              	.LC64:
 227 011c 636F6566 		.ascii	"coeff_speed_I\000"
 227      665F7370 
 227      6565645F 
 227      4900
 228 012a 0000     		.align	2
 229              	.LC67:
 230 012c 636F6566 		.ascii	"coeff_speed_D\000"
 230      665F7370 
 230      6565645F 
 230      4400
 231 013a 0000     		.align	2
 232              	.LC70:
 233 013c 6F666673 		.ascii	"offsetServo\000"
 233      65745365 
 233      72766F00 
 234              		.align	2
 235              	.LC73:
 236 0148 7669745F 		.ascii	"vit_max\000"
 236      6D617800 
 237              		.align	2
 238              	.LC76:
 239 0150 7669745F 		.ascii	"vit_min\000"
 239      6D696E00 
 240              		.align	2
 241              	.LC79:
 242 0158 73657569 		.ascii	"seuil_detection\000"
 242      6C5F6465 
 242      74656374 
 242      696F6E00 
 243              		.section	.text.main,"ax",%progbits
 244              		.align	2
 245              		.global	main
 246              		.code	16
 247              		.thumb_func
 249              	main:
 250              	.LFB0:
 251              		.file 1 "../Sources/main.c"
   1:../Sources/main.c **** #include "derivative.h" /* include peripheral declarations */
   2:../Sources/main.c **** #include "TFC\TFC.h"
   3:../Sources/main.c **** #include "constants.h"
   4:../Sources/main.c **** #include "PID.h"
   5:../Sources/main.c **** #include "signalProcessing.h"
   6:../Sources/main.c **** #include "logger.h"
   7:../Sources/main.c **** 
   8:../Sources/main.c **** #include "./distantio.h"
   9:../Sources/main.c **** 
  10:../Sources/main.c **** 
  11:../Sources/main.c **** 
  12:../Sources/main.c **** /******************/
  13:../Sources/main.c **** 
  14:../Sources/main.c **** /* Function Prototypes */
  15:../Sources/main.c **** void State_Debug(void);
  16:../Sources/main.c **** void State_Run(void);
  17:../Sources/main.c **** int16_t Asserv_pos(void);
  18:../Sources/main.c **** void Asserv_vit(void);
  19:../Sources/main.c **** void Update_LED(void);
  20:../Sources/main.c **** /***********************/
  21:../Sources/main.c **** 
  22:../Sources/main.c **** /* Global variables and extern */
  23:../Sources/main.c **** extern volatile uint16_t PotADC_Value[2];
  24:../Sources/main.c **** extern uint16_t seuil_detection ;
  25:../Sources/main.c **** extern uint8_t copy_nb_line;
  26:../Sources/main.c **** extern uint16_t seuil_detection;
  27:../Sources/main.c **** int16_t posCenter;
  28:../Sources/main.c **** int16_t diff;
  29:../Sources/main.c **** int16_t PWM_lights = 15000; //50% DC sur 50Hz...
  30:../Sources/main.c **** 
  31:../Sources/main.c **** int8_t cur_state=0;
  32:../Sources/main.c **** int16_t vitesseG=0;
  33:../Sources/main.c **** int16_t vitesseD=0;
  34:../Sources/main.c **** 
  35:../Sources/main.c **** int16_t lineError = 0;
  36:../Sources/main.c **** int32_t Run_F=0;
  37:../Sources/main.c **** 
  38:../Sources/main.c **** //uint16_t  LineScanBufferCopy [128];
  39:../Sources/main.c **** uint16_t  LineScanBufferCopyFiltered [128];
  40:../Sources/main.c **** int16_t copyDerivate[128];
  41:../Sources/main.c **** int16_t pid_speedCopy, pid_diffCopy;
  42:../Sources/main.c **** 
  43:../Sources/main.c **** uint32_t TFC_Ticker_0_copy = 0;
  44:../Sources/main.c **** 
  45:../Sources/main.c **** extern int16_t offsetServo;
  46:../Sources/main.c **** /*******************************/
  47:../Sources/main.c **** 
  48:../Sources/main.c **** int main(void)
  49:../Sources/main.c **** {
 252              		.loc 1 49 0
 253              		.cfi_startproc
 254 0000 80B5     		push	{r7, lr}
 255              	.LCFI0:
 256              		.cfi_def_cfa_offset 8
 257              		.cfi_offset 7, -8
 258              		.cfi_offset 14, -4
 259 0002 84B0     		sub	sp, sp, #16
 260              	.LCFI1:
 261              		.cfi_def_cfa_offset 24
 262 0004 02AF     		add	r7, sp, #8
 263              	.LCFI2:
 264              		.cfi_def_cfa 7, 16
  50:../Sources/main.c **** 
  51:../Sources/main.c **** 	//int8_t next_state=0;
  52:../Sources/main.c **** 	int8_t ButtonA_p = 0;
 265              		.loc 1 52 0
 266 0006 FB1D     		add	r3, r7, #7
 267 0008 0022     		mov	r2, #0
 268 000a 1A70     		strb	r2, [r3]
  53:../Sources/main.c **** 	int8_t ButtonA_isPressed = 0;
 269              		.loc 1 53 0
 270 000c BB1D     		add	r3, r7, #6
 271 000e 0022     		mov	r2, #0
 272 0010 1A70     		strb	r2, [r3]
  54:../Sources/main.c **** 	/* Initialisation */
  55:../Sources/main.c **** 	
  56:../Sources/main.c **** 	
  57:../Sources/main.c **** 	
  58:../Sources/main.c **** 		TFC_Init();
 273              		.loc 1 58 0
 274 0012 FFF7FEFF 		bl	TFC_Init
  59:../Sources/main.c **** 
  60:../Sources/main.c **** 	
  61:../Sources/main.c ****     init_serial();
 275              		.loc 1 61 0
 276 0016 FFF7FEFF 		bl	init_serial
  62:../Sources/main.c ****     init_protocol();
 277              		.loc 1 62 0
 278 001a FFF7FEFF 		bl	init_protocol
  63:../Sources/main.c **** 	init_distantio();
 279              		.loc 1 63 0
 280 001e FFF7FEFF 		bl	init_distantio
  64:../Sources/main.c **** 		
  65:../Sources/main.c **** 	/* Main Loop */
  66:../Sources/main.c **** 	
  67:../Sources/main.c **** 	//Read only register -> 0
  68:../Sources/main.c **** 	register_scalar(&Run_F, UINT8, 1, "Run_F");
 281              		.loc 1 68 0
 282 0022 904A     		ldr	r2, .L13
 283 0024 904B     		ldr	r3, .L13+4
 284 0026 101C     		mov	r0, r2
 285 0028 0121     		mov	r1, #1
 286 002a 0122     		mov	r2, #1
 287 002c FFF7FEFF 		bl	register_scalar
  69:../Sources/main.c **** 	register_scalar(&vitesseG, INT16,0, "VitesseG");
 288              		.loc 1 69 0
 289 0030 8E4A     		ldr	r2, .L13+8
 290 0032 8F4B     		ldr	r3, .L13+12
 291 0034 101C     		mov	r0, r2
 292 0036 0521     		mov	r1, #5
 293 0038 0022     		mov	r2, #0
 294 003a FFF7FEFF 		bl	register_scalar
  70:../Sources/main.c **** 	register_scalar(&vitesseD, INT16,0, "VitesseD");
 295              		.loc 1 70 0
 296 003e 8D4A     		ldr	r2, .L13+16
 297 0040 8D4B     		ldr	r3, .L13+20
 298 0042 101C     		mov	r0, r2
 299 0044 0521     		mov	r1, #5
 300 0046 0022     		mov	r2, #0
 301 0048 FFF7FEFF 		bl	register_scalar
  71:../Sources/main.c ****     register_scalar(&pid_speedCopy, INT16,0,"PID Speed");
 302              		.loc 1 71 0
 303 004c 8B4A     		ldr	r2, .L13+24
 304 004e 8C4B     		ldr	r3, .L13+28
 305 0050 101C     		mov	r0, r2
 306 0052 0521     		mov	r1, #5
 307 0054 0022     		mov	r2, #0
 308 0056 FFF7FEFF 		bl	register_scalar
  72:../Sources/main.c ****     register_scalar(&pid_diffCopy, INT16,0,"PID Diff");
 309              		.loc 1 72 0
 310 005a 8A4A     		ldr	r2, .L13+32
 311 005c 8A4B     		ldr	r3, .L13+36
 312 005e 101C     		mov	r0, r2
 313 0060 0521     		mov	r1, #5
 314 0062 0022     		mov	r2, #0
 315 0064 FFF7FEFF 		bl	register_scalar
  73:../Sources/main.c **** 	
  74:../Sources/main.c **** 	register_scalar(&posCenter, INT16,0, "Center position");
 316              		.loc 1 74 0
 317 0068 884A     		ldr	r2, .L13+40
 318 006a 894B     		ldr	r3, .L13+44
 319 006c 101C     		mov	r0, r2
 320 006e 0521     		mov	r1, #5
 321 0070 0022     		mov	r2, #0
 322 0072 FFF7FEFF 		bl	register_scalar
  75:../Sources/main.c **** 	
  76:../Sources/main.c **** 	register_scalar(&lineError, INT16,0, "Line error");
 323              		.loc 1 76 0
 324 0076 874A     		ldr	r2, .L13+48
 325 0078 874B     		ldr	r3, .L13+52
 326 007a 101C     		mov	r0, r2
 327 007c 0521     		mov	r1, #5
 328 007e 0022     		mov	r2, #0
 329 0080 FFF7FEFF 		bl	register_scalar
  77:../Sources/main.c **** 	
  78:../Sources/main.c **** 	register_scalar(&PWM_lights, INT16,1, "Lights PWM");
 330              		.loc 1 78 0
 331 0084 854A     		ldr	r2, .L13+56
 332 0086 864B     		ldr	r3, .L13+60
 333 0088 101C     		mov	r0, r2
 334 008a 0521     		mov	r1, #5
 335 008c 0122     		mov	r2, #1
 336 008e FFF7FEFF 		bl	register_scalar
  79:../Sources/main.c **** 	register_scalar(&diff, INT16,1, "Commande servo");
 337              		.loc 1 79 0
 338 0092 844A     		ldr	r2, .L13+64
 339 0094 844B     		ldr	r3, .L13+68
 340 0096 101C     		mov	r0, r2
 341 0098 0521     		mov	r1, #5
 342 009a 0122     		mov	r2, #1
 343 009c FFF7FEFF 		bl	register_scalar
  80:../Sources/main.c **** 	
  81:../Sources/main.c **** 	register_scalar(&copy_nb_line, UINT8, 0, "Nombre de lignes");
 344              		.loc 1 81 0
 345 00a0 824A     		ldr	r2, .L13+72
 346 00a2 834B     		ldr	r3, .L13+76
 347 00a4 101C     		mov	r0, r2
 348 00a6 0121     		mov	r1, #1
 349 00a8 0022     		mov	r2, #0
 350 00aa FFF7FEFF 		bl	register_scalar
  82:../Sources/main.c **** 	//Line 
  83:../Sources/main.c **** 	register_array(LineScanImage1,128,UINT16,0,"line");
 351              		.loc 1 83 0
 352 00ae 814B     		ldr	r3, .L13+80
 353 00b0 1B68     		ldr	r3, [r3]
 354 00b2 814A     		ldr	r2, .L13+84
 355 00b4 0092     		str	r2, [sp]
 356 00b6 181C     		mov	r0, r3
 357 00b8 8021     		mov	r1, #128
 358 00ba 0222     		mov	r2, #2
 359 00bc 0023     		mov	r3, #0
 360 00be FFF7FEFF 		bl	register_array
  84:../Sources/main.c **** 	register_array(LineScanBufferCopyFiltered,128,UINT16,0,"line filtered");
 361              		.loc 1 84 0
 362 00c2 7E4B     		ldr	r3, .L13+88
 363 00c4 7E4A     		ldr	r2, .L13+92
 364 00c6 0092     		str	r2, [sp]
 365 00c8 181C     		mov	r0, r3
 366 00ca 8021     		mov	r1, #128
 367 00cc 0222     		mov	r2, #2
 368 00ce 0023     		mov	r3, #0
 369 00d0 FFF7FEFF 		bl	register_array
  85:../Sources/main.c **** 	register_array(copyDerivate,128,INT16,0,"line derivate");
 370              		.loc 1 85 0
 371 00d4 7B4B     		ldr	r3, .L13+96
 372 00d6 7C4A     		ldr	r2, .L13+100
 373 00d8 0092     		str	r2, [sp]
 374 00da 181C     		mov	r0, r3
 375 00dc 8021     		mov	r1, #128
 376 00de 0522     		mov	r2, #5
 377 00e0 0023     		mov	r3, #0
 378 00e2 FFF7FEFF 		bl	register_array
  86:../Sources/main.c **** 	
  87:../Sources/main.c **** 	register_scalar(&TFC_Ticker_0_copy, UINT32, 0, "Ticker 0");
 379              		.loc 1 87 0
 380 00e6 794A     		ldr	r2, .L13+104
 381 00e8 794B     		ldr	r3, .L13+108
 382 00ea 101C     		mov	r0, r2
 383 00ec 0321     		mov	r1, #3
 384 00ee 0022     		mov	r2, #0
 385 00f0 FFF7FEFF 		bl	register_scalar
  88:../Sources/main.c **** 		
  89:../Sources/main.c **** 	register_scalar(&coeff_dir_P,INT16,1, "coeff_dir_P");
 386              		.loc 1 89 0
 387 00f4 774A     		ldr	r2, .L13+112
 388 00f6 784B     		ldr	r3, .L13+116
 389 00f8 101C     		mov	r0, r2
 390 00fa 0521     		mov	r1, #5
 391 00fc 0122     		mov	r2, #1
 392 00fe FFF7FEFF 		bl	register_scalar
  90:../Sources/main.c **** 	register_scalar(&coeff_dir_D,INT16,1, "coeff_dir_D");
 393              		.loc 1 90 0
 394 0102 764A     		ldr	r2, .L13+120
 395 0104 764B     		ldr	r3, .L13+124
 396 0106 101C     		mov	r0, r2
 397 0108 0521     		mov	r1, #5
 398 010a 0122     		mov	r2, #1
 399 010c FFF7FEFF 		bl	register_scalar
  91:../Sources/main.c **** 	register_scalar(&coeff_dir_I,INT16,1, "coeff_dir_I");
 400              		.loc 1 91 0
 401 0110 744A     		ldr	r2, .L13+128
 402 0112 754B     		ldr	r3, .L13+132
 403 0114 101C     		mov	r0, r2
 404 0116 0521     		mov	r1, #5
 405 0118 0122     		mov	r2, #1
 406 011a FFF7FEFF 		bl	register_scalar
  92:../Sources/main.c **** 	register_scalar(&coeff_diff_P,INT16,1, "coeff_diff_P");
 407              		.loc 1 92 0
 408 011e 734A     		ldr	r2, .L13+136
 409 0120 734B     		ldr	r3, .L13+140
 410 0122 101C     		mov	r0, r2
 411 0124 0521     		mov	r1, #5
 412 0126 0122     		mov	r2, #1
 413 0128 FFF7FEFF 		bl	register_scalar
  93:../Sources/main.c **** 	register_scalar(&coeff_diff_I,INT16,1, "coeff_diff_I");
 414              		.loc 1 93 0
 415 012c 714A     		ldr	r2, .L13+144
 416 012e 724B     		ldr	r3, .L13+148
 417 0130 101C     		mov	r0, r2
 418 0132 0521     		mov	r1, #5
 419 0134 0122     		mov	r2, #1
 420 0136 FFF7FEFF 		bl	register_scalar
  94:../Sources/main.c **** 	register_scalar(&coeff_diff_D,INT16,1, "coeff_diff_D");
 421              		.loc 1 94 0
 422 013a 704A     		ldr	r2, .L13+152
 423 013c 704B     		ldr	r3, .L13+156
 424 013e 101C     		mov	r0, r2
 425 0140 0521     		mov	r1, #5
 426 0142 0122     		mov	r2, #1
 427 0144 FFF7FEFF 		bl	register_scalar
  95:../Sources/main.c **** 	register_scalar(&coeff_speed_P,INT16,1, "coeff_speed_P");
 428              		.loc 1 95 0
 429 0148 6E4A     		ldr	r2, .L13+160
 430 014a 6F4B     		ldr	r3, .L13+164
 431 014c 101C     		mov	r0, r2
 432 014e 0521     		mov	r1, #5
 433 0150 0122     		mov	r2, #1
 434 0152 FFF7FEFF 		bl	register_scalar
  96:../Sources/main.c **** 	register_scalar(&coeff_speed_I,INT16,1, "coeff_speed_I");
 435              		.loc 1 96 0
 436 0156 6D4A     		ldr	r2, .L13+168
 437 0158 6D4B     		ldr	r3, .L13+172
 438 015a 101C     		mov	r0, r2
 439 015c 0521     		mov	r1, #5
 440 015e 0122     		mov	r2, #1
 441 0160 FFF7FEFF 		bl	register_scalar
  97:../Sources/main.c **** 	register_scalar(&coeff_speed_D,INT16,1, "coeff_speed_D");
 442              		.loc 1 97 0
 443 0164 6B4A     		ldr	r2, .L13+176
 444 0166 6C4B     		ldr	r3, .L13+180
 445 0168 101C     		mov	r0, r2
 446 016a 0521     		mov	r1, #5
 447 016c 0122     		mov	r2, #1
 448 016e FFF7FEFF 		bl	register_scalar
  98:../Sources/main.c **** 	
  99:../Sources/main.c **** 	register_scalar(&offsetServo, INT16,1,"offsetServo");
 449              		.loc 1 99 0
 450 0172 6A4A     		ldr	r2, .L13+184
 451 0174 6A4B     		ldr	r3, .L13+188
 452 0176 101C     		mov	r0, r2
 453 0178 0521     		mov	r1, #5
 454 017a 0122     		mov	r2, #1
 455 017c FFF7FEFF 		bl	register_scalar
 100:../Sources/main.c **** 	
 101:../Sources/main.c **** 	
 102:../Sources/main.c **** 	register_scalar(&vit_max,INT16,1, "vit_max");
 456              		.loc 1 102 0
 457 0180 684A     		ldr	r2, .L13+192
 458 0182 694B     		ldr	r3, .L13+196
 459 0184 101C     		mov	r0, r2
 460 0186 0521     		mov	r1, #5
 461 0188 0122     		mov	r2, #1
 462 018a FFF7FEFF 		bl	register_scalar
 103:../Sources/main.c **** 	register_scalar(&vit_min,INT16,1, "vit_min");
 463              		.loc 1 103 0
 464 018e 674A     		ldr	r2, .L13+200
 465 0190 674B     		ldr	r3, .L13+204
 466 0192 101C     		mov	r0, r2
 467 0194 0521     		mov	r1, #5
 468 0196 0122     		mov	r2, #1
 469 0198 FFF7FEFF 		bl	register_scalar
 104:../Sources/main.c **** 	register_scalar(&seuil_detection,UINT16,1, "seuil_detection");
 470              		.loc 1 104 0
 471 019c 654A     		ldr	r2, .L13+208
 472 019e 664B     		ldr	r3, .L13+212
 473 01a0 101C     		mov	r0, r2
 474 01a2 0221     		mov	r1, #2
 475 01a4 0122     		mov	r2, #1
 476 01a6 FFF7FEFF 		bl	register_scalar
 477              	.L11:
 105:../Sources/main.c **** 
 106:../Sources/main.c **** 	
 107:../Sources/main.c **** 	             
 108:../Sources/main.c **** 	for(;;)
 109:../Sources/main.c **** 	{	   
 110:../Sources/main.c **** 		//TFC_Task must be called in your main loop.  This keeps certain processing happy (I.E. Serial po
 111:../Sources/main.c **** 		TFC_Task();
 478              		.loc 1 111 0
 479 01aa FFF7FEFF 		bl	TFC_Task
 112:../Sources/main.c **** 
 113:../Sources/main.c **** 		//TERMINAL_PRINTF("Hello \r\n");
 114:../Sources/main.c **** 		ButtonA_isPressed = TFC_PUSH_BUTTON_0_PRESSED;
 480              		.loc 1 114 0
 481 01ae 634B     		ldr	r3, .L13+216
 482 01b0 1A69     		ldr	r2, [r3, #16]
 483 01b2 8023     		mov	r3, #128
 484 01b4 9B01     		lsl	r3, r3, #6
 485 01b6 1340     		and	r3, r2
 486 01b8 5A1E     		sub	r2, r3, #1
 487 01ba 9341     		sbc	r3, r3, r2
 488 01bc DAB2     		uxtb	r2, r3
 489 01be BB1D     		add	r3, r7, #6
 490 01c0 1A70     		strb	r2, [r3]
 115:../Sources/main.c **** 
 116:../Sources/main.c **** 		/* Proceed Data from UART */
 117:../Sources/main.c **** 		switch(cur_state)
 491              		.loc 1 117 0
 492 01c2 5F4B     		ldr	r3, .L13+220
 493 01c4 1B78     		ldrb	r3, [r3]
 494 01c6 5BB2     		sxtb	r3, r3
 495 01c8 002B     		cmp	r3, #0
 496 01ca 02D0     		beq	.L3
 497 01cc 012B     		cmp	r3, #1
 498 01ce 27D0     		beq	.L4
 499 01d0 42E0     		b	.L2
 500              	.L3:
 118:../Sources/main.c **** 		{
 119:../Sources/main.c **** 		case DEBUG: if(ButtonA_isPressed && !ButtonA_p)
 501              		.loc 1 119 0
 502 01d2 BB1D     		add	r3, r7, #6
 503 01d4 1B78     		ldrb	r3, [r3]
 504 01d6 5BB2     		sxtb	r3, r3
 505 01d8 002B     		cmp	r3, #0
 506 01da 1DD0     		beq	.L5
 507              		.loc 1 119 0 is_stmt 0
 508 01dc FB1D     		add	r3, r7, #7
 509 01de 1B78     		ldrb	r3, [r3]
 510 01e0 5BB2     		sxtb	r3, r3
 511 01e2 002B     		cmp	r3, #0
 512 01e4 18D1     		bne	.L5
 120:../Sources/main.c **** 		{
 121:../Sources/main.c **** 			TFC_Delay_mS(200);
 513              		.loc 1 121 0 is_stmt 1
 514 01e6 C820     		mov	r0, #200
 515 01e8 FFF7FEFF 		bl	TFC_Delay_mS
 122:../Sources/main.c **** 			cur_state=RUN;
 516              		.loc 1 122 0
 517 01ec 544B     		ldr	r3, .L13+220
 518 01ee 0122     		mov	r2, #1
 519 01f0 1A70     		strb	r2, [r3]
 123:../Sources/main.c **** 			Update_LED();
 520              		.loc 1 123 0
 521 01f2 FFF7FEFF 		bl	Update_LED
 124:../Sources/main.c **** 			
 125:../Sources/main.c **** 			if( ((TFC_GetDIP_Switch())&0x01)) // le switch 1
 522              		.loc 1 125 0
 523 01f6 FFF7FEFF 		bl	TFC_GetDIP_Switch
 524 01fa 031C     		mov	r3, r0
 525 01fc 1A1C     		mov	r2, r3
 526 01fe 0123     		mov	r3, #1
 527 0200 1340     		and	r3, r2
 528 0202 04D0     		beq	.L6
 126:../Sources/main.c **** 			{
 127:../Sources/main.c **** 				TFC_HBRIDGE_ENABLE;
 529              		.loc 1 127 0
 530 0204 4F4B     		ldr	r3, .L13+224
 531 0206 8022     		mov	r2, #128
 532 0208 9203     		lsl	r2, r2, #14
 533 020a 5A60     		str	r2, [r3, #4]
 125:../Sources/main.c **** 			if( ((TFC_GetDIP_Switch())&0x01)) // le switch 1
 534              		.loc 1 125 0
 535 020c 07E0     		b	.L8
 536              	.L6:
 128:../Sources/main.c **** 				//Run_F=1;
 129:../Sources/main.c **** 			}
 130:../Sources/main.c **** 			else				
 131:../Sources/main.c **** 				TFC_HBRIDGE_DISABLE;
 537              		.loc 1 131 0
 538 020e 4D4B     		ldr	r3, .L13+224
 539 0210 8022     		mov	r2, #128
 540 0212 9203     		lsl	r2, r2, #14
 541 0214 9A60     		str	r2, [r3, #8]
 125:../Sources/main.c **** 			if( ((TFC_GetDIP_Switch())&0x01)) // le switch 1
 542              		.loc 1 125 0
 543 0216 02E0     		b	.L8
 544              	.L5:
 132:../Sources/main.c **** 			
 133:../Sources/main.c **** 		}
 134:../Sources/main.c **** 		else
 135:../Sources/main.c **** 			State_Debug();
 545              		.loc 1 135 0
 546 0218 FFF7FEFF 		bl	State_Debug
 136:../Sources/main.c **** 		break;
 547              		.loc 1 136 0
 548 021c 1CE0     		b	.L2
 549              	.L8:
 550 021e 1BE0     		b	.L2
 551              	.L4:
 137:../Sources/main.c **** 
 138:../Sources/main.c **** 		case RUN: if(ButtonA_isPressed && !ButtonA_p) 
 552              		.loc 1 138 0
 553 0220 BB1D     		add	r3, r7, #6
 554 0222 1B78     		ldrb	r3, [r3]
 555 0224 5BB2     		sxtb	r3, r3
 556 0226 002B     		cmp	r3, #0
 557 0228 13D0     		beq	.L9
 558              		.loc 1 138 0 is_stmt 0
 559 022a FB1D     		add	r3, r7, #7
 560 022c 1B78     		ldrb	r3, [r3]
 561 022e 5BB2     		sxtb	r3, r3
 562 0230 002B     		cmp	r3, #0
 563 0232 0ED1     		bne	.L9
 139:../Sources/main.c **** 		{
 140:../Sources/main.c **** 			TFC_Delay_mS(200);
 564              		.loc 1 140 0 is_stmt 1
 565 0234 C820     		mov	r0, #200
 566 0236 FFF7FEFF 		bl	TFC_Delay_mS
 141:../Sources/main.c **** 			cur_state=DEBUG;
 567              		.loc 1 141 0
 568 023a 414B     		ldr	r3, .L13+220
 569 023c 0022     		mov	r2, #0
 570 023e 1A70     		strb	r2, [r3]
 142:../Sources/main.c ****             Run_F=!Run_F;
 571              		.loc 1 142 0
 572 0240 084B     		ldr	r3, .L13
 573 0242 1B68     		ldr	r3, [r3]
 574 0244 5A42     		neg	r2, r3
 575 0246 5341     		adc	r3, r3, r2
 576 0248 DBB2     		uxtb	r3, r3
 577 024a 1A1C     		mov	r2, r3
 578 024c 054B     		ldr	r3, .L13
 579 024e 1A60     		str	r2, [r3]
 143:../Sources/main.c **** 		}
 144:../Sources/main.c **** 		else
 145:../Sources/main.c **** 			State_Run();
 146:../Sources/main.c **** 		break;
 580              		.loc 1 146 0
 581 0250 01E0     		b	.L12
 582              	.L9:
 145:../Sources/main.c **** 			State_Run();
 583              		.loc 1 145 0
 584 0252 FFF7FEFF 		bl	State_Run
 585              	.L12:
 586              		.loc 1 146 0
 587 0256 C046     		mov	r8, r8
 588              	.L2:
 147:../Sources/main.c **** 
 148:../Sources/main.c **** 		}
 149:../Sources/main.c **** 
 150:../Sources/main.c **** 		
 151:../Sources/main.c **** 		ButtonA_p = ButtonA_isPressed;
 589              		.loc 1 151 0
 590 0258 FB1D     		add	r3, r7, #7
 591 025a BA1D     		add	r2, r7, #6
 592 025c 1278     		ldrb	r2, [r2]
 593 025e 1A70     		strb	r2, [r3]
 152:../Sources/main.c **** 
 153:../Sources/main.c **** 
 154:../Sources/main.c **** 	}
 594              		.loc 1 154 0
 595 0260 A3E7     		b	.L11
 596              	.L14:
 597 0262 C046     		.align	2
 598              	.L13:
 599 0264 00000000 		.word	Run_F
 600 0268 00000000 		.word	.LC1
 601 026c 00000000 		.word	vitesseG
 602 0270 08000000 		.word	.LC4
 603 0274 00000000 		.word	vitesseD
 604 0278 14000000 		.word	.LC7
 605 027c 00000000 		.word	pid_speedCopy
 606 0280 20000000 		.word	.LC10
 607 0284 00000000 		.word	pid_diffCopy
 608 0288 2C000000 		.word	.LC13
 609 028c 00000000 		.word	posCenter
 610 0290 38000000 		.word	.LC16
 611 0294 00000000 		.word	lineError
 612 0298 48000000 		.word	.LC19
 613 029c 00000000 		.word	PWM_lights
 614 02a0 54000000 		.word	.LC22
 615 02a4 00000000 		.word	diff
 616 02a8 60000000 		.word	.LC25
 617 02ac 00000000 		.word	copy_nb_line
 618 02b0 70000000 		.word	.LC28
 619 02b4 00000000 		.word	LineScanImage1
 620 02b8 84000000 		.word	.LC31
 621 02bc 00000000 		.word	LineScanBufferCopyFiltered
 622 02c0 8C000000 		.word	.LC34
 623 02c4 00000000 		.word	copyDerivate
 624 02c8 9C000000 		.word	.LC37
 625 02cc 00000000 		.word	TFC_Ticker_0_copy
 626 02d0 AC000000 		.word	.LC40
 627 02d4 00000000 		.word	coeff_dir_P
 628 02d8 B8000000 		.word	.LC43
 629 02dc 00000000 		.word	coeff_dir_D
 630 02e0 C4000000 		.word	.LC46
 631 02e4 00000000 		.word	coeff_dir_I
 632 02e8 D0000000 		.word	.LC49
 633 02ec 00000000 		.word	coeff_diff_P
 634 02f0 DC000000 		.word	.LC52
 635 02f4 00000000 		.word	coeff_diff_I
 636 02f8 EC000000 		.word	.LC55
 637 02fc 00000000 		.word	coeff_diff_D
 638 0300 FC000000 		.word	.LC58
 639 0304 00000000 		.word	coeff_speed_P
 640 0308 0C010000 		.word	.LC61
 641 030c 00000000 		.word	coeff_speed_I
 642 0310 1C010000 		.word	.LC64
 643 0314 00000000 		.word	coeff_speed_D
 644 0318 2C010000 		.word	.LC67
 645 031c 00000000 		.word	offsetServo
 646 0320 3C010000 		.word	.LC70
 647 0324 00000000 		.word	vit_max
 648 0328 48010000 		.word	.LC73
 649 032c 00000000 		.word	vit_min
 650 0330 50010000 		.word	.LC76
 651 0334 00000000 		.word	seuil_detection
 652 0338 58010000 		.word	.LC79
 653 033c 80F00F40 		.word	1074786432
 654 0340 00000000 		.word	cur_state
 655 0344 00F10F40 		.word	1074786560
 656              		.cfi_endproc
 657              	.LFE0:
 659              		.section	.rodata
 660              		.align	2
 661              	.LC89:
 662 0168 506F7320 		.ascii	"Pos Serv : %d \015\012\000"
 662      53657276 
 662      203A2025 
 662      64200D0A 
 662      00
 663              		.global	__aeabi_fmul
 664              		.global	__aeabi_f2iz
 665 0179 000000   		.align	2
 666              	.LC94:
 667 017c 0D0A00   		.ascii	"\015\012\000"
 668 017f 00       		.align	2
 669              	.LC96:
 670 0180 4C3A2C00 		.ascii	"L:,\000"
 671              		.align	2
 672              	.LC98:
 673 0184 30782558 		.ascii	"0x%X,\000"
 673      2C00
 674 018a 0000     		.align	2
 675              	.LC100:
 676 018c 20706F73 		.ascii	" posCenter : %d, AngleCorr : %d, diff: %d, LCenter:"
 676      43656E74 
 676      6572203A 
 676      2025642C 
 676      20416E67 
 677 01bf 2025642C 		.ascii	" %d,\000"
 677      00
 678              		.section	.text.State_Debug,"ax",%progbits
 679              		.align	2
 680              		.global	State_Debug
 681              		.code	16
 682              		.thumb_func
 684              	State_Debug:
 685              	.LFB1:
 155:../Sources/main.c **** 	return 0;
 156:../Sources/main.c **** }
 157:../Sources/main.c **** 
 158:../Sources/main.c **** /***************************************************
 159:../Sources/main.c ****  **                                                **
 160:../Sources/main.c ****  **           State Machine  Functions             **
 161:../Sources/main.c ****  **   									          **
 162:../Sources/main.c ****  ****************************************************/ 
 163:../Sources/main.c **** void State_Debug(void)
 164:../Sources/main.c **** {
 686              		.loc 1 164 0
 687              		.cfi_startproc
 688 0000 90B5     		push	{r4, r7, lr}
 689              	.LCFI3:
 690              		.cfi_def_cfa_offset 12
 691              		.cfi_offset 4, -12
 692              		.cfi_offset 7, -8
 693              		.cfi_offset 14, -4
 694 0002 85B0     		sub	sp, sp, #20
 695              	.LCFI4:
 696              		.cfi_def_cfa_offset 32
 697 0004 02AF     		add	r7, sp, #8
 698              	.LCFI5:
 699              		.cfi_def_cfa 7, 24
 165:../Sources/main.c **** 	uint32_t t,i=0;
 700              		.loc 1 165 0
 701 0006 0023     		mov	r3, #0
 702 0008 7B60     		str	r3, [r7, #4]
 166:../Sources/main.c **** 	uint8_t j =0;
 703              		.loc 1 166 0
 704 000a FB1C     		add	r3, r7, #3
 705 000c 0022     		mov	r2, #0
 706 000e 1A70     		strb	r2, [r3]
 167:../Sources/main.c **** 	TFC_HBRIDGE_DISABLE;
 707              		.loc 1 167 0
 708 0010 6B4B     		ldr	r3, .L23
 709 0012 8022     		mov	r2, #128
 710 0014 9203     		lsl	r2, r2, #14
 711 0016 9A60     		str	r2, [r3, #8]
 168:../Sources/main.c **** 	if(TFC_Ticker[0]>1000 && LineScanImageReady==1) // Each 1s 
 712              		.loc 1 168 0
 713 0018 6A4B     		ldr	r3, .L23+4
 714 001a 1A68     		ldr	r2, [r3]
 715 001c FA23     		mov	r3, #250
 716 001e 9B00     		lsl	r3, r3, #2
 717 0020 9A42     		cmp	r2, r3
 718 0022 00D8     		bhi	.LCB396
 719 0024 C7E0     		b	.L16	@long jump
 720              	.LCB396:
 721              		.loc 1 168 0 is_stmt 0
 722 0026 684B     		ldr	r3, .L23+8
 723 0028 1B78     		ldrb	r3, [r3]
 724 002a DBB2     		uxtb	r3, r3
 725 002c 012B     		cmp	r3, #1
 726 002e 00D0     		beq	.LCB401
 727 0030 C1E0     		b	.L16	@long jump
 728              	.LCB401:
 729              	.LBB2:
 169:../Sources/main.c **** 	{
 170:../Sources/main.c **** 		/* Copy line scan for logs*/
 171:../Sources/main.c **** 		
 172:../Sources/main.c **** 		
 173:../Sources/main.c **** 		TFC_Ticker[0] = 0;
 730              		.loc 1 173 0 is_stmt 1
 731 0032 644B     		ldr	r3, .L23+4
 732 0034 0022     		mov	r2, #0
 733 0036 1A60     		str	r2, [r3]
 174:../Sources/main.c **** 
 175:../Sources/main.c **** 		LineScanImageReady=0;
 734              		.loc 1 175 0
 735 0038 634B     		ldr	r3, .L23+8
 736 003a 0022     		mov	r2, #0
 737 003c 1A70     		strb	r2, [r3]
 176:../Sources/main.c **** 		//uint8_t val = TFC_ReadPot(0);
 177:../Sources/main.c **** 		//TERMINAL_PRINTF("New Expo Time: 0x%X \n\r", PotADC_Value[0]); //0x000 - 0xFFF
 178:../Sources/main.c **** 		TFC_SetLineScanExposureTime((uint32_t) (PotADC_Value[0]+100)*10); //100 to 4095+100
 738              		.loc 1 178 0
 739 003e 634B     		ldr	r3, .L23+12
 740 0040 1B88     		ldrh	r3, [r3]
 741 0042 9BB2     		uxth	r3, r3
 742 0044 1A1C     		mov	r2, r3
 743 0046 131C     		mov	r3, r2
 744 0048 9B00     		lsl	r3, r3, #2
 745 004a 9B18     		add	r3, r3, r2
 746 004c 5B00     		lsl	r3, r3, #1
 747 004e FA22     		mov	r2, #250
 748 0050 9200     		lsl	r2, r2, #2
 749 0052 9B18     		add	r3, r3, r2
 750 0054 181C     		mov	r0, r3
 751 0056 FFF7FEFF 		bl	TFC_SetLineScanExposureTime
 179:../Sources/main.c **** 
 180:../Sources/main.c **** 
 181:../Sources/main.c **** 		posCenter = getCenterPos(LineScanImage1);
 752              		.loc 1 181 0
 753 005a 5D4B     		ldr	r3, .L23+16
 754 005c 1B68     		ldr	r3, [r3]
 755 005e 181C     		mov	r0, r3
 756 0060 FFF7FEFF 		bl	getCenterPos
 757 0064 031C     		mov	r3, r0
 758 0066 9AB2     		uxth	r2, r3
 759 0068 5A4B     		ldr	r3, .L23+20
 760 006a 1A80     		strh	r2, [r3]
 182:../Sources/main.c **** 
 183:../Sources/main.c **** 					                                       
 184:../Sources/main.c **** 					                                       
 185:../Sources/main.c **** 		diff = Asserv_pos();
 761              		.loc 1 185 0
 762 006c FFF7FEFF 		bl	Asserv_pos
 763 0070 031C     		mov	r3, r0
 764 0072 1A1C     		mov	r2, r3
 765 0074 584B     		ldr	r3, .L23+24
 766 0076 1A80     		strh	r2, [r3]
 186:../Sources/main.c **** 		/* Set Servo Position Maximum range is 1000 */
 187:../Sources/main.c **** 		TFC_SetServo(0,diff);
 767              		.loc 1 187 0
 768 0078 574B     		ldr	r3, .L23+24
 769 007a 1B88     		ldrh	r3, [r3]
 770 007c 1BB2     		sxth	r3, r3
 771 007e 0020     		mov	r0, #0
 772 0080 191C     		mov	r1, r3
 773 0082 FFF7FEFF 		bl	TFC_SetServo
 188:../Sources/main.c **** 
 189:../Sources/main.c **** 		TERMINAL_PRINTF("Pos Serv : %d \r\n",diff);
 774              		.loc 1 189 0
 775 0086 544B     		ldr	r3, .L23+24
 776 0088 1B88     		ldrh	r3, [r3]
 777 008a 1BB2     		sxth	r3, r3
 778 008c 5349     		ldr	r1, .L23+28
 779 008e 544A     		ldr	r2, .L23+32
 780 0090 081C     		mov	r0, r1
 781 0092 111C     		mov	r1, r2
 782 0094 1A1C     		mov	r2, r3
 783 0096 FFF7FEFF 		bl	Qprintf
 190:../Sources/main.c **** 		vitesseG = (int16_t) (TFC_ReadPot(1)*1000);
 784              		.loc 1 190 0
 785 009a 0120     		mov	r0, #1
 786 009c FFF7FEFF 		bl	TFC_ReadPot
 787 00a0 031C     		add	r3, r0, #0
 788 00a2 181C     		add	r0, r3, #0
 789 00a4 4F49     		ldr	r1, .L23+36
 790 00a6 FFF7FEFF 		bl	__aeabi_fmul
 791 00aa 031C     		add	r3, r0, #0
 792 00ac 181C     		add	r0, r3, #0
 793 00ae FFF7FEFF 		bl	__aeabi_f2iz
 794 00b2 031C     		mov	r3, r0
 795 00b4 9AB2     		uxth	r2, r3
 796 00b6 4C4B     		ldr	r3, .L23+40
 797 00b8 1A80     		strh	r2, [r3]
 191:../Sources/main.c **** 		vitesseD = vitesseG;
 798              		.loc 1 191 0
 799 00ba 4B4B     		ldr	r3, .L23+40
 800 00bc 1A88     		ldrh	r2, [r3]
 801 00be 4B4B     		ldr	r3, .L23+44
 802 00c0 1A80     		strh	r2, [r3]
 192:../Sources/main.c **** 		if( ((TFC_GetDIP_Switch()>>1)&0x03) == 0) // les deux du milieu
 803              		.loc 1 192 0
 804 00c2 FFF7FEFF 		bl	TFC_GetDIP_Switch
 805 00c6 031C     		mov	r3, r0
 806 00c8 5B08     		lsr	r3, r3, #1
 807 00ca DBB2     		uxtb	r3, r3
 808 00cc 1A1C     		mov	r2, r3
 809 00ce 0323     		mov	r3, #3
 810 00d0 1340     		and	r3, r2
 811 00d2 0ED1     		bne	.L17
 193:../Sources/main.c **** 		{
 194:../Sources/main.c **** 			TFC_HBRIDGE_ENABLE;
 812              		.loc 1 194 0
 813 00d4 3A4B     		ldr	r3, .L23
 814 00d6 8022     		mov	r2, #128
 815 00d8 9203     		lsl	r2, r2, #14
 816 00da 5A60     		str	r2, [r3, #4]
 195:../Sources/main.c **** 			TFC_SetMotorPWM(vitesseD,vitesseG); // moteur A -> droite
 817              		.loc 1 195 0
 818 00dc 434B     		ldr	r3, .L23+44
 819 00de 1A88     		ldrh	r2, [r3]
 820 00e0 414B     		ldr	r3, .L23+40
 821 00e2 1B88     		ldrh	r3, [r3]
 822 00e4 12B2     		sxth	r2, r2
 823 00e6 1BB2     		sxth	r3, r3
 824 00e8 101C     		mov	r0, r2
 825 00ea 191C     		mov	r1, r3
 826 00ec FFF7FEFF 		bl	TFC_SetMotorPWM
 827 00f0 0BE0     		b	.L18
 828              	.L17:
 196:../Sources/main.c **** 		}
 197:../Sources/main.c **** 		else
 198:../Sources/main.c **** 		{
 199:../Sources/main.c **** 			TFC_SetMotorPWM(0,0);
 829              		.loc 1 199 0
 830 00f2 0020     		mov	r0, #0
 831 00f4 0021     		mov	r1, #0
 832 00f6 FFF7FEFF 		bl	TFC_SetMotorPWM
 200:../Sources/main.c **** 			TFC_HBRIDGE_DISABLE;
 833              		.loc 1 200 0
 834 00fa 314B     		ldr	r3, .L23
 835 00fc 8022     		mov	r2, #128
 836 00fe 9203     		lsl	r2, r2, #14
 837 0100 9A60     		str	r2, [r3, #8]
 201:../Sources/main.c **** 			TFC_SetMotorPWM(0,0);
 838              		.loc 1 201 0
 839 0102 0020     		mov	r0, #0
 840 0104 0021     		mov	r1, #0
 841 0106 FFF7FEFF 		bl	TFC_SetMotorPWM
 842              	.L18:
 202:../Sources/main.c **** 		}
 203:../Sources/main.c ****         
 204:../Sources/main.c ****         /* phares PWM */
 205:../Sources/main.c ****         if(TFC_GetDIP_Switch()&0x08) // if switch 4 is High
 843              		.loc 1 205 0
 844 010a FFF7FEFF 		bl	TFC_GetDIP_Switch
 845 010e 031C     		mov	r3, r0
 846 0110 1A1C     		mov	r2, r3
 847 0112 0823     		mov	r3, #8
 848 0114 1340     		and	r3, r2
 849 0116 07D0     		beq	.L19
 206:../Sources/main.c ****         {
 207:../Sources/main.c ****             TFC_SetServoDutyCycle(1, PWM_lights); 
 850              		.loc 1 207 0
 851 0118 354B     		ldr	r3, .L23+48
 852 011a 1B88     		ldrh	r3, [r3]
 853 011c 9BB2     		uxth	r3, r3
 854 011e 0120     		mov	r0, #1
 855 0120 191C     		mov	r1, r3
 856 0122 FFF7FEFF 		bl	TFC_SetServoDutyCycle
 857 0126 03E0     		b	.L20
 858              	.L19:
 208:../Sources/main.c ****         }
 209:../Sources/main.c ****         else 
 210:../Sources/main.c ****             TFC_SetServoDutyCycle(1, 0); 
 859              		.loc 1 210 0
 860 0128 0120     		mov	r0, #1
 861 012a 0021     		mov	r1, #0
 862 012c FFF7FEFF 		bl	TFC_SetServoDutyCycle
 863              	.L20:
 211:../Sources/main.c **** 
 212:../Sources/main.c **** 		/* Transmit Image */
 213:../Sources/main.c **** 		TERMINAL_PRINTF("\r\n");
 864              		.loc 1 213 0
 865 0130 2A4A     		ldr	r2, .L23+28
 866 0132 304B     		ldr	r3, .L23+52
 867 0134 101C     		mov	r0, r2
 868 0136 191C     		mov	r1, r3
 869 0138 FFF7FEFF 		bl	Qprintf
 214:../Sources/main.c **** 
 215:../Sources/main.c **** 		TERMINAL_PRINTF("L:,");
 870              		.loc 1 215 0
 871 013c 274A     		ldr	r2, .L23+28
 872 013e 2E4B     		ldr	r3, .L23+56
 873 0140 101C     		mov	r0, r2
 874 0142 191C     		mov	r1, r3
 875 0144 FFF7FEFF 		bl	Qprintf
 216:../Sources/main.c **** 		for(i=0;i<128;i++)
 876              		.loc 1 216 0
 877 0148 0023     		mov	r3, #0
 878 014a 7B60     		str	r3, [r7, #4]
 879 014c 10E0     		b	.L21
 880              	.L22:
 217:../Sources/main.c **** 		{
 218:../Sources/main.c **** 			TERMINAL_PRINTF("0x%X,",LineScanImage1[i]);
 881              		.loc 1 218 0
 882 014e 204B     		ldr	r3, .L23+16
 883 0150 1A68     		ldr	r2, [r3]
 884 0152 7B68     		ldr	r3, [r7, #4]
 885 0154 5B00     		lsl	r3, r3, #1
 886 0156 D318     		add	r3, r2, r3
 887 0158 1B88     		ldrh	r3, [r3]
 888 015a 9BB2     		uxth	r3, r3
 889 015c 1F49     		ldr	r1, .L23+28
 890 015e 274A     		ldr	r2, .L23+60
 891 0160 081C     		mov	r0, r1
 892 0162 111C     		mov	r1, r2
 893 0164 1A1C     		mov	r2, r3
 894 0166 FFF7FEFF 		bl	Qprintf
 216:../Sources/main.c **** 		for(i=0;i<128;i++)
 895              		.loc 1 216 0
 896 016a 7B68     		ldr	r3, [r7, #4]
 897 016c 0133     		add	r3, r3, #1
 898 016e 7B60     		str	r3, [r7, #4]
 899              	.L21:
 216:../Sources/main.c **** 		for(i=0;i<128;i++)
 900              		.loc 1 216 0 is_stmt 0
 901 0170 7B68     		ldr	r3, [r7, #4]
 902 0172 7F2B     		cmp	r3, #127
 903 0174 EBD9     		bls	.L22
 219:../Sources/main.c **** 		}
 220:../Sources/main.c **** 		TERMINAL_PRINTF("\r\n");
 904              		.loc 1 220 0 is_stmt 1
 905 0176 194A     		ldr	r2, .L23+28
 906 0178 1E4B     		ldr	r3, .L23+52
 907 017a 101C     		mov	r0, r2
 908 017c 191C     		mov	r1, r3
 909 017e FFF7FEFF 		bl	Qprintf
 221:../Sources/main.c **** 
 222:../Sources/main.c **** 		/* Transmit Position &  Parameters PID */
 223:../Sources/main.c **** 		TERMINAL_PRINTF(" posCenter : %d, AngleCorr : %d, diff: %d, LCenter: %d,", posCenter, diff*35, di
 910              		.loc 1 223 0
 911 0182 144B     		ldr	r3, .L23+20
 912 0184 1B88     		ldrh	r3, [r3]
 913 0186 1CB2     		sxth	r4, r3
 914 0188 134B     		ldr	r3, .L23+24
 915 018a 1B88     		ldrh	r3, [r3]
 916 018c 1AB2     		sxth	r2, r3
 917 018e 131C     		mov	r3, r2
 918 0190 9B00     		lsl	r3, r3, #2
 919 0192 9B18     		add	r3, r3, r2
 920 0194 DA00     		lsl	r2, r3, #3
 921 0196 D31A     		sub	r3, r2, r3
 922 0198 0F4A     		ldr	r2, .L23+24
 923 019a 1288     		ldrh	r2, [r2]
 924 019c 10B2     		sxth	r0, r2
 925 019e 0F49     		ldr	r1, .L23+28
 926 01a0 174A     		ldr	r2, .L23+64
 927 01a2 0090     		str	r0, [sp]
 928 01a4 4620     		mov	r0, #70
 929 01a6 0190     		str	r0, [sp, #4]
 930 01a8 081C     		mov	r0, r1
 931 01aa 111C     		mov	r1, r2
 932 01ac 221C     		mov	r2, r4
 933 01ae FFF7FEFF 		bl	Qprintf
 224:../Sources/main.c **** 
 225:../Sources/main.c **** 		/* Transmit Vitesse */
 226:../Sources/main.c **** 		//TERMINAL_PRINTF(" vitD: %d, vitG: %d\n\r", (int)vitesseD,(int)vitesseG);
 227:../Sources/main.c **** 
 228:../Sources/main.c **** 		update_distantio();
 934              		.loc 1 228 0
 935 01b2 FFF7FEFF 		bl	update_distantio
 936              	.L16:
 937              	.LBE2:
 229:../Sources/main.c **** 	}
 230:../Sources/main.c **** 	
 231:../Sources/main.c **** 	Update_LED();
 938              		.loc 1 231 0
 939 01b6 FFF7FEFF 		bl	Update_LED
 232:../Sources/main.c **** }
 940              		.loc 1 232 0
 941 01ba BD46     		mov	sp, r7
 942 01bc 03B0     		add	sp, sp, #12
 943              		@ sp needed for prologue
 944 01be 90BD     		pop	{r4, r7, pc}
 945              	.L24:
 946              		.align	2
 947              	.L23:
 948 01c0 00F10F40 		.word	1074786560
 949 01c4 00000000 		.word	TFC_Ticker
 950 01c8 00000000 		.word	LineScanImageReady
 951 01cc 00000000 		.word	PotADC_Value
 952 01d0 00000000 		.word	LineScanImage1
 953 01d4 00000000 		.word	posCenter
 954 01d8 00000000 		.word	diff
 955 01dc 00000000 		.word	SDA_SERIAL_OUTGOING_QUEUE
 956 01e0 68010000 		.word	.LC89
 957 01e4 00007A44 		.word	1148846080
 958 01e8 00000000 		.word	vitesseG
 959 01ec 00000000 		.word	vitesseD
 960 01f0 00000000 		.word	PWM_lights
 961 01f4 7C010000 		.word	.LC94
 962 01f8 80010000 		.word	.LC96
 963 01fc 84010000 		.word	.LC98
 964 0200 8C010000 		.word	.LC100
 965              		.cfi_endproc
 966              	.LFE1:
 968              		.section	.text.State_Run,"ax",%progbits
 969              		.align	2
 970              		.global	State_Run
 971              		.code	16
 972              		.thumb_func
 974              	State_Run:
 975              	.LFB2:
 233:../Sources/main.c **** 
 234:../Sources/main.c **** 
 235:../Sources/main.c **** void State_Run(void)
 236:../Sources/main.c **** {	
 976              		.loc 1 236 0
 977              		.cfi_startproc
 978 0000 80B5     		push	{r7, lr}
 979              	.LCFI6:
 980              		.cfi_def_cfa_offset 8
 981              		.cfi_offset 7, -8
 982              		.cfi_offset 14, -4
 983 0002 82B0     		sub	sp, sp, #8
 984              	.LCFI7:
 985              		.cfi_def_cfa_offset 16
 986 0004 00AF     		add	r7, sp, #0
 987              	.LCFI8:
 988              		.cfi_def_cfa_register 7
 237:../Sources/main.c **** 	uint8_t j =0;
 989              		.loc 1 237 0
 990 0006 FB1D     		add	r3, r7, #7
 991 0008 0022     		mov	r2, #0
 992 000a 1A70     		strb	r2, [r3]
 238:../Sources/main.c **** 
 239:../Sources/main.c **** 	
 240:../Sources/main.c **** 	
 241:../Sources/main.c **** 	
 242:../Sources/main.c **** 	
 243:../Sources/main.c **** 	if(TFC_Ticker[0]>5 && LineScanImageReady==1) // Each 10ms 
 993              		.loc 1 243 0
 994 000c 474B     		ldr	r3, .L34
 995 000e 1B68     		ldr	r3, [r3]
 996 0010 052B     		cmp	r3, #5
 997 0012 00D8     		bhi	.LCB650
 998 0014 7DE0     		b	.L26	@long jump
 999              	.LCB650:
 1000              		.loc 1 243 0 is_stmt 0
 1001 0016 464B     		ldr	r3, .L34+4
 1002 0018 1B78     		ldrb	r3, [r3]
 1003 001a DBB2     		uxtb	r3, r3
 1004 001c 012B     		cmp	r3, #1
 1005 001e 00D0     		beq	.LCB655
 1006 0020 77E0     		b	.L26	@long jump
 1007              	.LCB655:
 1008              	.LBB3:
 244:../Sources/main.c **** 	{
 245:../Sources/main.c **** 		
 246:../Sources/main.c **** 		//TFC_Ticker[0] = 0;
 247:../Sources/main.c **** 		//dataToLog.ticker = TFC_Ticker[0];
 248:../Sources/main.c **** 		TFC_Ticker_0_copy =  TFC_Ticker[0];
 1009              		.loc 1 248 0 is_stmt 1
 1010 0022 424B     		ldr	r3, .L34
 1011 0024 1A68     		ldr	r2, [r3]
 1012 0026 434B     		ldr	r3, .L34+8
 1013 0028 1A60     		str	r2, [r3]
 249:../Sources/main.c **** 		TFC_Ticker[0] = 0;
 1014              		.loc 1 249 0
 1015 002a 404B     		ldr	r3, .L34
 1016 002c 0022     		mov	r2, #0
 1017 002e 1A60     		str	r2, [r3]
 250:../Sources/main.c **** 		
 251:../Sources/main.c **** 		
 252:../Sources/main.c **** 
 253:../Sources/main.c **** 		LineScanImageReady=0;
 1018              		.loc 1 253 0
 1019 0030 3F4B     		ldr	r3, .L34+4
 1020 0032 0022     		mov	r2, #0
 1021 0034 1A70     		strb	r2, [r3]
 254:../Sources/main.c **** 		//TFC_SetLineScanExposureTime((uint32_t) (PotADC_Value[0]+500)*10); //100 to 4095+100
 255:../Sources/main.c **** 
 256:../Sources/main.c **** 		
 257:../Sources/main.c **** 
 258:../Sources/main.c **** 		
 259:../Sources/main.c **** 		for( j=1; j < 128; j++)
 1022              		.loc 1 259 0
 1023 0036 FB1D     		add	r3, r7, #7
 1024 0038 0122     		mov	r2, #1
 1025 003a 1A70     		strb	r2, [r3]
 1026 003c 1EE0     		b	.L27
 1027              	.L28:
 260:../Sources/main.c **** 		{
 261:../Sources/main.c **** 			LineScanBufferCopyFiltered[j] = (LineScanImage1[j] + LineScanImage1[j-1])>>2;
 1028              		.loc 1 261 0
 1029 003e FB1D     		add	r3, r7, #7
 1030 0040 1A78     		ldrb	r2, [r3]
 1031 0042 3D4B     		ldr	r3, .L34+12
 1032 0044 1968     		ldr	r1, [r3]
 1033 0046 FB1D     		add	r3, r7, #7
 1034 0048 1B78     		ldrb	r3, [r3]
 1035 004a 5B00     		lsl	r3, r3, #1
 1036 004c CB18     		add	r3, r1, r3
 1037 004e 1B88     		ldrh	r3, [r3]
 1038 0050 9BB2     		uxth	r3, r3
 1039 0052 191C     		mov	r1, r3
 1040 0054 384B     		ldr	r3, .L34+12
 1041 0056 1868     		ldr	r0, [r3]
 1042 0058 FB1D     		add	r3, r7, #7
 1043 005a 1B78     		ldrb	r3, [r3]
 1044 005c 013B     		sub	r3, r3, #1
 1045 005e 5B00     		lsl	r3, r3, #1
 1046 0060 C318     		add	r3, r0, r3
 1047 0062 1B88     		ldrh	r3, [r3]
 1048 0064 9BB2     		uxth	r3, r3
 1049 0066 CB18     		add	r3, r1, r3
 1050 0068 9B10     		asr	r3, r3, #2
 1051 006a 99B2     		uxth	r1, r3
 1052 006c 334B     		ldr	r3, .L34+16
 1053 006e 5200     		lsl	r2, r2, #1
 1054 0070 D152     		strh	r1, [r2, r3]
 259:../Sources/main.c **** 		for( j=1; j < 128; j++)
 1055              		.loc 1 259 0
 1056 0072 FB1D     		add	r3, r7, #7
 1057 0074 FA1D     		add	r2, r7, #7
 1058 0076 1278     		ldrb	r2, [r2]
 1059 0078 0132     		add	r2, r2, #1
 1060 007a 1A70     		strb	r2, [r3]
 1061              	.L27:
 259:../Sources/main.c **** 		for( j=1; j < 128; j++)
 1062              		.loc 1 259 0 is_stmt 0
 1063 007c FB1D     		add	r3, r7, #7
 1064 007e 1B78     		ldrb	r3, [r3]
 1065 0080 5BB2     		sxtb	r3, r3
 1066 0082 002B     		cmp	r3, #0
 1067 0084 DBDA     		bge	.L28
 262:../Sources/main.c **** 		}
 263:../Sources/main.c **** 		LineScanBufferCopyFiltered[0] = LineScanBufferCopyFiltered[1];
 1068              		.loc 1 263 0 is_stmt 1
 1069 0086 2D4B     		ldr	r3, .L34+16
 1070 0088 5A88     		ldrh	r2, [r3, #2]
 1071 008a 2C4B     		ldr	r3, .L34+16
 1072 008c 1A80     		strh	r2, [r3]
 264:../Sources/main.c **** 		
 265:../Sources/main.c **** 		
 266:../Sources/main.c **** 		posCenter = getCenterPos(LineScanBufferCopyFiltered);
 1073              		.loc 1 266 0
 1074 008e 2B4B     		ldr	r3, .L34+16
 1075 0090 181C     		mov	r0, r3
 1076 0092 FFF7FEFF 		bl	getCenterPos
 1077 0096 031C     		mov	r3, r0
 1078 0098 9AB2     		uxth	r2, r3
 1079 009a 294B     		ldr	r3, .L34+20
 1080 009c 1A80     		strh	r2, [r3]
 267:../Sources/main.c **** 				
 268:../Sources/main.c **** 		diff = Asserv_pos();
 1081              		.loc 1 268 0
 1082 009e FFF7FEFF 		bl	Asserv_pos
 1083 00a2 031C     		mov	r3, r0
 1084 00a4 1A1C     		mov	r2, r3
 1085 00a6 274B     		ldr	r3, .L34+24
 1086 00a8 1A80     		strh	r2, [r3]
 269:../Sources/main.c **** 
 270:../Sources/main.c **** 		/* Set Servo Position Maximum range is 1000 */
 271:../Sources/main.c **** 		TFC_SetServo(0,diff);					
 1087              		.loc 1 271 0
 1088 00aa 264B     		ldr	r3, .L34+24
 1089 00ac 1B88     		ldrh	r3, [r3]
 1090 00ae 1BB2     		sxth	r3, r3
 1091 00b0 0020     		mov	r0, #0
 1092 00b2 191C     		mov	r1, r3
 1093 00b4 FFF7FEFF 		bl	TFC_SetServo
 272:../Sources/main.c **** 
 273:../Sources/main.c **** 		/* Set motor speed */
 274:../Sources/main.c **** 		Asserv_vit();
 1094              		.loc 1 274 0
 1095 00b8 FFF7FEFF 		bl	Asserv_vit
 275:../Sources/main.c **** 		//vitesseG = TFC_ReadPot(1);
 276:../Sources/main.c **** 		//vitesseD = vitesseD;
 277:../Sources/main.c **** 		
 278:../Sources/main.c **** 		if(Run_F==1)
 1096              		.loc 1 278 0
 1097 00bc 224B     		ldr	r3, .L34+28
 1098 00be 1B68     		ldr	r3, [r3]
 1099 00c0 012B     		cmp	r3, #1
 1100 00c2 04D1     		bne	.L29
 279:../Sources/main.c ****             TFC_HBRIDGE_ENABLE;
 1101              		.loc 1 279 0
 1102 00c4 214B     		ldr	r3, .L34+32
 1103 00c6 8022     		mov	r2, #128
 1104 00c8 9203     		lsl	r2, r2, #14
 1105 00ca 5A60     		str	r2, [r3, #4]
 1106 00cc 03E0     		b	.L30
 1107              	.L29:
 280:../Sources/main.c **** 			
 281:../Sources/main.c **** 		else
 282:../Sources/main.c **** 			TFC_HBRIDGE_DISABLE;
 1108              		.loc 1 282 0
 1109 00ce 1F4B     		ldr	r3, .L34+32
 1110 00d0 8022     		mov	r2, #128
 1111 00d2 9203     		lsl	r2, r2, #14
 1112 00d4 9A60     		str	r2, [r3, #8]
 1113              	.L30:
 283:../Sources/main.c ****         TFC_SetMotorPWM(vitesseD,vitesseG); // moteur A -> droite
 1114              		.loc 1 283 0
 1115 00d6 1E4B     		ldr	r3, .L34+36
 1116 00d8 1A88     		ldrh	r2, [r3]
 1117 00da 1E4B     		ldr	r3, .L34+40
 1118 00dc 1B88     		ldrh	r3, [r3]
 1119 00de 12B2     		sxth	r2, r2
 1120 00e0 1BB2     		sxth	r3, r3
 1121 00e2 101C     		mov	r0, r2
 1122 00e4 191C     		mov	r1, r3
 1123 00e6 FFF7FEFF 		bl	TFC_SetMotorPWM
 284:../Sources/main.c ****         
 285:../Sources/main.c **** 		/*
 286:../Sources/main.c **** 		if( ((TFC_GetDIP_Switch()>>1)&0x03) == 0)
 287:../Sources/main.c **** 		{
 288:../Sources/main.c **** 			//TFC_HBRIDGE_ENABLE;
 289:../Sources/main.c **** 			TFC_SetMotorPWM(vitesseD,vitesseG); // moteur A -> droite
 290:../Sources/main.c **** 		}
 291:../Sources/main.c **** 		else
 292:../Sources/main.c **** 			TFC_HBRIDGE_DISABLE;
 293:../Sources/main.c **** 
 294:../Sources/main.c ****         /* phares PWM */
 295:../Sources/main.c ****         if(TFC_GetDIP_Switch()&0x08) // if switch 4 is High
 1124              		.loc 1 295 0
 1125 00ea FFF7FEFF 		bl	TFC_GetDIP_Switch
 1126 00ee 031C     		mov	r3, r0
 1127 00f0 1A1C     		mov	r2, r3
 1128 00f2 0823     		mov	r3, #8
 1129 00f4 1340     		and	r3, r2
 1130 00f6 07D0     		beq	.L31
 296:../Sources/main.c ****         {
 297:../Sources/main.c ****             TFC_SetServoDutyCycle(1, PWM_lights); 
 1131              		.loc 1 297 0
 1132 00f8 174B     		ldr	r3, .L34+44
 1133 00fa 1B88     		ldrh	r3, [r3]
 1134 00fc 9BB2     		uxth	r3, r3
 1135 00fe 0120     		mov	r0, #1
 1136 0100 191C     		mov	r1, r3
 1137 0102 FFF7FEFF 		bl	TFC_SetServoDutyCycle
 1138              	.LBE3:
 244:../Sources/main.c **** 	{
 1139              		.loc 1 244 0
 1140 0106 0DE0     		b	.L25
 1141              	.L31:
 1142              	.LBB4:
 298:../Sources/main.c ****         }
 299:../Sources/main.c ****         else 
 300:../Sources/main.c ****             TFC_SetServoDutyCycle(1, 0); 
 1143              		.loc 1 300 0
 1144 0108 0120     		mov	r0, #1
 1145 010a 0021     		mov	r1, #0
 1146 010c FFF7FEFF 		bl	TFC_SetServoDutyCycle
 1147              	.LBE4:
 244:../Sources/main.c **** 	{
 1148              		.loc 1 244 0
 1149 0110 08E0     		b	.L25
 1150              	.L26:
 301:../Sources/main.c ****             
 302:../Sources/main.c **** 		/* Transmit Position &  Parameters PID */
 303:../Sources/main.c **** 		//TERMINAL_PRINTF("\rposCenter : %d\n\r",posLine);
 304:../Sources/main.c **** 
 305:../Sources/main.c **** 
 306:../Sources/main.c **** 
 307:../Sources/main.c **** 		//TERMINAL_PRINTF("\rposCenter : %d, AngleCorr : %d, diff %d, LCenter %d\n\r", posCenter, (int)((
 308:../Sources/main.c **** 
 309:../Sources/main.c ****         //update_distantio();
 310:../Sources/main.c **** 
 311:../Sources/main.c **** 	}
 312:../Sources/main.c **** 
 313:../Sources/main.c **** 	else if(TFC_Ticker[3] > 10) 
 1151              		.loc 1 313 0
 1152 0112 064B     		ldr	r3, .L34
 1153 0114 DB68     		ldr	r3, [r3, #12]
 1154 0116 0A2B     		cmp	r3, #10
 1155 0118 04D9     		bls	.L25
 314:../Sources/main.c **** 	{
 315:../Sources/main.c **** 		TFC_Ticker[3] = 0;
 1156              		.loc 1 315 0
 1157 011a 044B     		ldr	r3, .L34
 1158 011c 0022     		mov	r2, #0
 1159 011e DA60     		str	r2, [r3, #12]
 316:../Sources/main.c **** 		update_distantio();
 1160              		.loc 1 316 0
 1161 0120 FFF7FEFF 		bl	update_distantio
 1162              	.L25:
 317:../Sources/main.c **** 	}
 318:../Sources/main.c **** }
 1163              		.loc 1 318 0
 1164 0124 BD46     		mov	sp, r7
 1165 0126 02B0     		add	sp, sp, #8
 1166              		@ sp needed for prologue
 1167 0128 80BD     		pop	{r7, pc}
 1168              	.L35:
 1169 012a C046     		.align	2
 1170              	.L34:
 1171 012c 00000000 		.word	TFC_Ticker
 1172 0130 00000000 		.word	LineScanImageReady
 1173 0134 00000000 		.word	TFC_Ticker_0_copy
 1174 0138 00000000 		.word	LineScanImage1
 1175 013c 00000000 		.word	LineScanBufferCopyFiltered
 1176 0140 00000000 		.word	posCenter
 1177 0144 00000000 		.word	diff
 1178 0148 00000000 		.word	Run_F
 1179 014c 00F10F40 		.word	1074786560
 1180 0150 00000000 		.word	vitesseD
 1181 0154 00000000 		.word	vitesseG
 1182 0158 00000000 		.word	PWM_lights
 1183              		.cfi_endproc
 1184              	.LFE2:
 1186              		.global	__aeabi_idiv
 1187              		.section	.text.Asserv_pos,"ax",%progbits
 1188              		.align	2
 1189              		.global	Asserv_pos
 1190              		.code	16
 1191              		.thumb_func
 1193              	Asserv_pos:
 1194              	.LFB3:
 319:../Sources/main.c **** 
 320:../Sources/main.c **** /***************************************************
 321:../Sources/main.c ****  **                                                **
 322:../Sources/main.c ****  **           Other  Functions                     **
 323:../Sources/main.c ****  **   									          **
 324:../Sources/main.c ****  ****************************************************/ 
 325:../Sources/main.c **** int16_t Asserv_pos(void)
 326:../Sources/main.c **** {
 1195              		.loc 1 326 0
 1196              		.cfi_startproc
 1197 0000 80B5     		push	{r7, lr}
 1198              	.LCFI9:
 1199              		.cfi_def_cfa_offset 8
 1200              		.cfi_offset 7, -8
 1201              		.cfi_offset 14, -4
 1202 0002 82B0     		sub	sp, sp, #8
 1203              	.LCFI10:
 1204              		.cfi_def_cfa_offset 16
 1205 0004 00AF     		add	r7, sp, #0
 1206              	.LCFI11:
 1207              		.cfi_def_cfa_register 7
 327:../Sources/main.c **** 	static int16_t  error =0, last_error = 0;
 328:../Sources/main.c **** 	int16_t  derivate=0, integrate=0;
 1208              		.loc 1 328 0
 1209 0006 BB1C     		add	r3, r7, #2
 1210 0008 0022     		mov	r2, #0
 1211 000a 1A80     		strh	r2, [r3]
 1212 000c BB1D     		add	r3, r7, #6
 1213 000e 0022     		mov	r2, #0
 1214 0010 1A80     		strh	r2, [r3]
 329:../Sources/main.c **** 	int16_t difference=0;
 1215              		.loc 1 329 0
 1216 0012 3B1D     		add	r3, r7, #4
 1217 0014 0022     		mov	r2, #0
 1218 0016 1A80     		strh	r2, [r3]
 330:../Sources/main.c **** 
 331:../Sources/main.c **** 
 332:../Sources/main.c **** 	//previous = posCenter;
 333:../Sources/main.c **** 
 334:../Sources/main.c **** 	//if(posCenter == 0) // Line not found 
 335:../Sources/main.c **** 	//		posCenter = previous; //Wheel position has not change 
 336:../Sources/main.c **** 
 337:../Sources/main.c **** 	/* Error */
 338:../Sources/main.c **** 	last_error = error;
 1219              		.loc 1 338 0
 1220 0018 364B     		ldr	r3, .L42
 1221 001a 1A88     		ldrh	r2, [r3]
 1222 001c 364B     		ldr	r3, .L42+4
 1223 001e 1A80     		strh	r2, [r3]
 339:../Sources/main.c **** 	error = posCenter;
 1224              		.loc 1 339 0
 1225 0020 364B     		ldr	r3, .L42+8
 1226 0022 1A88     		ldrh	r2, [r3]
 1227 0024 334B     		ldr	r3, .L42
 1228 0026 1A80     		strh	r2, [r3]
 340:../Sources/main.c **** 
 341:../Sources/main.c **** 	derivate = error - last_error;
 1229              		.loc 1 341 0
 1230 0028 324B     		ldr	r3, .L42
 1231 002a 1B88     		ldrh	r3, [r3]
 1232 002c 9AB2     		uxth	r2, r3
 1233 002e 324B     		ldr	r3, .L42+4
 1234 0030 1B88     		ldrh	r3, [r3]
 1235 0032 9BB2     		uxth	r3, r3
 1236 0034 D31A     		sub	r3, r2, r3
 1237 0036 9AB2     		uxth	r2, r3
 1238 0038 BB1C     		add	r3, r7, #2
 1239 003a 1A80     		strh	r2, [r3]
 342:../Sources/main.c **** 	integrate += error;
 1240              		.loc 1 342 0
 1241 003c BB1D     		add	r3, r7, #6
 1242 003e 1A88     		ldrh	r2, [r3]
 1243 0040 2C4B     		ldr	r3, .L42
 1244 0042 1B88     		ldrh	r3, [r3]
 1245 0044 9BB2     		uxth	r3, r3
 1246 0046 D318     		add	r3, r2, r3
 1247 0048 9AB2     		uxth	r2, r3
 1248 004a BB1D     		add	r3, r7, #6
 1249 004c 1A80     		strh	r2, [r3]
 343:../Sources/main.c **** 	if(integrate > 100) integrate=100;
 1250              		.loc 1 343 0
 1251 004e BB1D     		add	r3, r7, #6
 1252 0050 0020     		mov	r0, #0
 1253 0052 1B5E     		ldrsh	r3, [r3, r0]
 1254 0054 642B     		cmp	r3, #100
 1255 0056 03DD     		ble	.L37
 1256              		.loc 1 343 0 is_stmt 0
 1257 0058 BB1D     		add	r3, r7, #6
 1258 005a 6422     		mov	r2, #100
 1259 005c 1A80     		strh	r2, [r3]
 1260 005e 09E0     		b	.L38
 1261              	.L37:
 344:../Sources/main.c **** 	else if(integrate <-100) integrate=-100;
 1262              		.loc 1 344 0 is_stmt 1
 1263 0060 BB1D     		add	r3, r7, #6
 1264 0062 0021     		mov	r1, #0
 1265 0064 5B5E     		ldrsh	r3, [r3, r1]
 1266 0066 1A1C     		mov	r2, r3
 1267 0068 6432     		add	r2, r2, #100
 1268 006a 03DA     		bge	.L38
 1269              		.loc 1 344 0 is_stmt 0
 1270 006c BB1D     		add	r3, r7, #6
 1271 006e 6422     		mov	r2, #100
 1272 0070 5242     		neg	r2, r2
 1273 0072 1A80     		strh	r2, [r3]
 1274              	.L38:
 345:../Sources/main.c **** 
 346:../Sources/main.c **** 	/* PID */
 347:../Sources/main.c **** 	difference = (coeff_dir_P*(error) + coeff_dir_D*(derivate) + coeff_dir_I*(integrate))/35; //Deriva
 1275              		.loc 1 347 0 is_stmt 1
 1276 0074 224B     		ldr	r3, .L42+12
 1277 0076 1B88     		ldrh	r3, [r3]
 1278 0078 1BB2     		sxth	r3, r3
 1279 007a 1E4A     		ldr	r2, .L42
 1280 007c 1288     		ldrh	r2, [r2]
 1281 007e 12B2     		sxth	r2, r2
 1282 0080 5A43     		mul	r2, r3
 1283 0082 204B     		ldr	r3, .L42+16
 1284 0084 1B88     		ldrh	r3, [r3]
 1285 0086 1BB2     		sxth	r3, r3
 1286 0088 B91C     		add	r1, r7, #2
 1287 008a 0020     		mov	r0, #0
 1288 008c 095E     		ldrsh	r1, [r1, r0]
 1289 008e 4B43     		mul	r3, r1
 1290 0090 D218     		add	r2, r2, r3
 1291 0092 1D4B     		ldr	r3, .L42+20
 1292 0094 1B88     		ldrh	r3, [r3]
 1293 0096 1BB2     		sxth	r3, r3
 1294 0098 B91D     		add	r1, r7, #6
 1295 009a 0020     		mov	r0, #0
 1296 009c 095E     		ldrsh	r1, [r1, r0]
 1297 009e 4B43     		mul	r3, r1
 1298 00a0 D318     		add	r3, r2, r3
 1299 00a2 181C     		mov	r0, r3
 1300 00a4 2321     		mov	r1, #35
 1301 00a6 FFF7FEFF 		bl	__aeabi_idiv
 1302 00aa 031C     		mov	r3, r0
 1303 00ac 1A1C     		mov	r2, r3
 1304 00ae 3B1D     		add	r3, r7, #4
 1305 00b0 1A80     		strh	r2, [r3]
 348:../Sources/main.c **** 	if(difference > 1000)	difference = 1000;
 1306              		.loc 1 348 0
 1307 00b2 3B1D     		add	r3, r7, #4
 1308 00b4 0021     		mov	r1, #0
 1309 00b6 5A5E     		ldrsh	r2, [r3, r1]
 1310 00b8 FA23     		mov	r3, #250
 1311 00ba 9B00     		lsl	r3, r3, #2
 1312 00bc 9A42     		cmp	r2, r3
 1313 00be 04DD     		ble	.L39
 1314              		.loc 1 348 0 is_stmt 0
 1315 00c0 3B1D     		add	r3, r7, #4
 1316 00c2 FA22     		mov	r2, #250
 1317 00c4 9200     		lsl	r2, r2, #2
 1318 00c6 1A80     		strh	r2, [r3]
 1319 00c8 08E0     		b	.L40
 1320              	.L39:
 349:../Sources/main.c **** 	else if (difference < -1000) difference = -1000;
 1321              		.loc 1 349 0 is_stmt 1
 1322 00ca 3B1D     		add	r3, r7, #4
 1323 00cc 0020     		mov	r0, #0
 1324 00ce 1A5E     		ldrsh	r2, [r3, r0]
 1325 00d0 0E4B     		ldr	r3, .L42+24
 1326 00d2 9A42     		cmp	r2, r3
 1327 00d4 02DA     		bge	.L40
 1328              		.loc 1 349 0 is_stmt 0
 1329 00d6 3B1D     		add	r3, r7, #4
 1330 00d8 0C4A     		ldr	r2, .L42+24
 1331 00da 1A80     		strh	r2, [r3]
 1332              	.L40:
 350:../Sources/main.c **** 	// -> comment tu calcules 35? Je l'ai mesur :D  
 351:../Sources/main.c **** 	// -> problme range : effective => 65 - 80 (lorsque que posline = 65 ou 80, servo  fond!)
 352:../Sources/main.c **** 	
 353:../Sources/main.c **** 	//TERMINAL_PRINTF("Difference %f, posCenter %d : \r\n", difference, posCenter);
 354:../Sources/main.c **** 
 355:../Sources/main.c **** 	
 356:../Sources/main.c **** 	lineError = error; //Just for the log  
 1333              		.loc 1 356 0 is_stmt 1
 1334 00dc 054B     		ldr	r3, .L42
 1335 00de 1A88     		ldrh	r2, [r3]
 1336 00e0 0B4B     		ldr	r3, .L42+28
 1337 00e2 1A80     		strh	r2, [r3]
 357:../Sources/main.c **** 	
 358:../Sources/main.c **** 	return difference; //diff -1000 to 1000
 1338              		.loc 1 358 0
 1339 00e4 3B1D     		add	r3, r7, #4
 1340 00e6 1B88     		ldrh	r3, [r3]
 1341 00e8 1BB2     		sxth	r3, r3
 359:../Sources/main.c **** }
 1342              		.loc 1 359 0
 1343 00ea 181C     		mov	r0, r3
 1344 00ec BD46     		mov	sp, r7
 1345 00ee 02B0     		add	sp, sp, #8
 1346              		@ sp needed for prologue
 1347 00f0 80BD     		pop	{r7, pc}
 1348              	.L43:
 1349 00f2 C046     		.align	2
 1350              	.L42:
 1351 00f4 00000000 		.word	error.5323
 1352 00f8 00000000 		.word	last_error.5324
 1353 00fc 00000000 		.word	posCenter
 1354 0100 00000000 		.word	coeff_dir_P
 1355 0104 00000000 		.word	coeff_dir_D
 1356 0108 00000000 		.word	coeff_dir_I
 1357 010c 18FCFFFF 		.word	-1000
 1358 0110 00000000 		.word	lineError
 1359              		.cfi_endproc
 1360              	.LFE3:
 1362              		.section	.text.Asserv_vit,"ax",%progbits
 1363              		.align	2
 1364              		.global	Asserv_vit
 1365              		.code	16
 1366              		.thumb_func
 1368              	Asserv_vit:
 1369              	.LFB4:
 360:../Sources/main.c **** 
 361:../Sources/main.c **** void Asserv_vit(void)
 362:../Sources/main.c **** {
 1370              		.loc 1 362 0
 1371              		.cfi_startproc
 1372 0000 80B5     		push	{r7, lr}
 1373              	.LCFI12:
 1374              		.cfi_def_cfa_offset 8
 1375              		.cfi_offset 7, -8
 1376              		.cfi_offset 14, -4
 1377 0002 82B0     		sub	sp, sp, #8
 1378              	.LCFI13:
 1379              		.cfi_def_cfa_offset 16
 1380 0004 00AF     		add	r7, sp, #0
 1381              	.LCFI14:
 1382              		.cfi_def_cfa_register 7
 363:../Sources/main.c **** 
 364:../Sources/main.c **** 
 365:../Sources/main.c **** 	static int16_t  error =0, last_error = 0;
 366:../Sources/main.c **** 	int16_t  derivate, integrate =0;
 1383              		.loc 1 366 0
 1384 0006 BB1D     		add	r3, r7, #6
 1385 0008 0022     		mov	r2, #0
 1386 000a 1A80     		strh	r2, [r3]
 367:../Sources/main.c **** 	int16_t pid_speed, pid_diff;
 368:../Sources/main.c **** 	last_error = error;
 1387              		.loc 1 368 0
 1388 000c 844B     		ldr	r3, .L55
 1389 000e 1A88     		ldrh	r2, [r3]
 1390 0010 844B     		ldr	r3, .L55+4
 1391 0012 1A80     		strh	r2, [r3]
 369:../Sources/main.c **** 	error = posCenter;
 1392              		.loc 1 369 0
 1393 0014 844B     		ldr	r3, .L55+8
 1394 0016 1A88     		ldrh	r2, [r3]
 1395 0018 814B     		ldr	r3, .L55
 1396 001a 1A80     		strh	r2, [r3]
 370:../Sources/main.c **** 
 371:../Sources/main.c **** 	derivate = error - last_error;
 1397              		.loc 1 371 0
 1398 001c 804B     		ldr	r3, .L55
 1399 001e 1B88     		ldrh	r3, [r3]
 1400 0020 9AB2     		uxth	r2, r3
 1401 0022 804B     		ldr	r3, .L55+4
 1402 0024 1B88     		ldrh	r3, [r3]
 1403 0026 9BB2     		uxth	r3, r3
 1404 0028 D31A     		sub	r3, r2, r3
 1405 002a 9AB2     		uxth	r2, r3
 1406 002c BB1C     		add	r3, r7, #2
 1407 002e 1A80     		strh	r2, [r3]
 372:../Sources/main.c **** 	integrate += error;	
 1408              		.loc 1 372 0
 1409 0030 BB1D     		add	r3, r7, #6
 1410 0032 1A88     		ldrh	r2, [r3]
 1411 0034 7A4B     		ldr	r3, .L55
 1412 0036 1B88     		ldrh	r3, [r3]
 1413 0038 9BB2     		uxth	r3, r3
 1414 003a D318     		add	r3, r2, r3
 1415 003c 9AB2     		uxth	r2, r3
 1416 003e BB1D     		add	r3, r7, #6
 1417 0040 1A80     		strh	r2, [r3]
 373:../Sources/main.c **** 
 374:../Sources/main.c **** 	if(integrate > 100) integrate=100;
 1418              		.loc 1 374 0
 1419 0042 BB1D     		add	r3, r7, #6
 1420 0044 0021     		mov	r1, #0
 1421 0046 5B5E     		ldrsh	r3, [r3, r1]
 1422 0048 642B     		cmp	r3, #100
 1423 004a 03DD     		ble	.L45
 1424              		.loc 1 374 0 is_stmt 0
 1425 004c BB1D     		add	r3, r7, #6
 1426 004e 6422     		mov	r2, #100
 1427 0050 1A80     		strh	r2, [r3]
 1428 0052 09E0     		b	.L46
 1429              	.L45:
 375:../Sources/main.c **** 	else if(integrate <-100) integrate=-100;
 1430              		.loc 1 375 0 is_stmt 1
 1431 0054 BB1D     		add	r3, r7, #6
 1432 0056 0022     		mov	r2, #0
 1433 0058 9B5E     		ldrsh	r3, [r3, r2]
 1434 005a 191C     		mov	r1, r3
 1435 005c 6431     		add	r1, r1, #100
 1436 005e 03DA     		bge	.L46
 1437              		.loc 1 375 0 is_stmt 0
 1438 0060 BB1D     		add	r3, r7, #6
 1439 0062 6422     		mov	r2, #100
 1440 0064 5242     		neg	r2, r2
 1441 0066 1A80     		strh	r2, [r3]
 1442              	.L46:
 376:../Sources/main.c **** 
 377:../Sources/main.c **** 
 378:../Sources/main.c **** 
 379:../Sources/main.c **** 	pid_speed = coeff_speed_P*(error) + coeff_speed_D*(derivate) + coeff_speed_I*(integrate); 
 1443              		.loc 1 379 0 is_stmt 1
 1444 0068 704B     		ldr	r3, .L55+12
 1445 006a 1B88     		ldrh	r3, [r3]
 1446 006c 9BB2     		uxth	r3, r3
 1447 006e 6C4A     		ldr	r2, .L55
 1448 0070 1288     		ldrh	r2, [r2]
 1449 0072 92B2     		uxth	r2, r2
 1450 0074 5343     		mul	r3, r2
 1451 0076 9AB2     		uxth	r2, r3
 1452 0078 6D4B     		ldr	r3, .L55+16
 1453 007a 1B88     		ldrh	r3, [r3]
 1454 007c 9BB2     		uxth	r3, r3
 1455 007e B91C     		add	r1, r7, #2
 1456 0080 0988     		ldrh	r1, [r1]
 1457 0082 4B43     		mul	r3, r1
 1458 0084 9BB2     		uxth	r3, r3
 1459 0086 D318     		add	r3, r2, r3
 1460 0088 9AB2     		uxth	r2, r3
 1461 008a 6A4B     		ldr	r3, .L55+20
 1462 008c 1B88     		ldrh	r3, [r3]
 1463 008e 9BB2     		uxth	r3, r3
 1464 0090 B91D     		add	r1, r7, #6
 1465 0092 0988     		ldrh	r1, [r1]
 1466 0094 4B43     		mul	r3, r1
 1467 0096 9BB2     		uxth	r3, r3
 1468 0098 D318     		add	r3, r2, r3
 1469 009a 9AB2     		uxth	r2, r3
 1470 009c 3B1C     		mov	r3, r7
 1471 009e 1A80     		strh	r2, [r3]
 380:../Sources/main.c **** 	pid_diff = coeff_diff_P*( error) + coeff_diff_D*(derivate) + coeff_diff_I*(integrate);
 1472              		.loc 1 380 0
 1473 00a0 654B     		ldr	r3, .L55+24
 1474 00a2 1B88     		ldrh	r3, [r3]
 1475 00a4 9BB2     		uxth	r3, r3
 1476 00a6 5E4A     		ldr	r2, .L55
 1477 00a8 1288     		ldrh	r2, [r2]
 1478 00aa 92B2     		uxth	r2, r2
 1479 00ac 5343     		mul	r3, r2
 1480 00ae 9AB2     		uxth	r2, r3
 1481 00b0 624B     		ldr	r3, .L55+28
 1482 00b2 1B88     		ldrh	r3, [r3]
 1483 00b4 9BB2     		uxth	r3, r3
 1484 00b6 B91C     		add	r1, r7, #2
 1485 00b8 0988     		ldrh	r1, [r1]
 1486 00ba 4B43     		mul	r3, r1
 1487 00bc 9BB2     		uxth	r3, r3
 1488 00be D318     		add	r3, r2, r3
 1489 00c0 9AB2     		uxth	r2, r3
 1490 00c2 5F4B     		ldr	r3, .L55+32
 1491 00c4 1B88     		ldrh	r3, [r3]
 1492 00c6 9BB2     		uxth	r3, r3
 1493 00c8 B91D     		add	r1, r7, #6
 1494 00ca 0988     		ldrh	r1, [r1]
 1495 00cc 4B43     		mul	r3, r1
 1496 00ce 9BB2     		uxth	r3, r3
 1497 00d0 D318     		add	r3, r2, r3
 1498 00d2 9AB2     		uxth	r2, r3
 1499 00d4 3B1D     		add	r3, r7, #4
 1500 00d6 1A80     		strh	r2, [r3]
 381:../Sources/main.c **** 	
 382:../Sources/main.c **** 	pid_speedCopy = pid_speed;
 1501              		.loc 1 382 0
 1502 00d8 5A4B     		ldr	r3, .L55+36
 1503 00da 3A1C     		mov	r2, r7
 1504 00dc 1288     		ldrh	r2, [r2]
 1505 00de 1A80     		strh	r2, [r3]
 383:../Sources/main.c **** 	pid_diffCopy = pid_diff;
 1506              		.loc 1 383 0
 1507 00e0 594B     		ldr	r3, .L55+40
 1508 00e2 3A1D     		add	r2, r7, #4
 1509 00e4 1288     		ldrh	r2, [r2]
 1510 00e6 1A80     		strh	r2, [r3]
 384:../Sources/main.c **** 
 385:../Sources/main.c **** 	vitesseG = vit_max - abs(pid_speed);
 1511              		.loc 1 385 0
 1512 00e8 584B     		ldr	r3, .L55+44
 1513 00ea 1B88     		ldrh	r3, [r3]
 1514 00ec 9AB2     		uxth	r2, r3
 1515 00ee 3B1C     		mov	r3, r7
 1516 00f0 0021     		mov	r1, #0
 1517 00f2 5B5E     		ldrsh	r3, [r3, r1]
 1518 00f4 D917     		asr	r1, r3, #31
 1519 00f6 5B18     		add	r3, r3, r1
 1520 00f8 4B40     		eor	r3, r1
 1521 00fa 9BB2     		uxth	r3, r3
 1522 00fc D31A     		sub	r3, r2, r3
 1523 00fe 9BB2     		uxth	r3, r3
 1524 0100 9AB2     		uxth	r2, r3
 1525 0102 534B     		ldr	r3, .L55+48
 1526 0104 1A80     		strh	r2, [r3]
 386:../Sources/main.c **** 	vitesseD = vit_max - abs(pid_speed);
 1527              		.loc 1 386 0
 1528 0106 514B     		ldr	r3, .L55+44
 1529 0108 1B88     		ldrh	r3, [r3]
 1530 010a 9AB2     		uxth	r2, r3
 1531 010c 3B1C     		mov	r3, r7
 1532 010e 0021     		mov	r1, #0
 1533 0110 5B5E     		ldrsh	r3, [r3, r1]
 1534 0112 D917     		asr	r1, r3, #31
 1535 0114 5B18     		add	r3, r3, r1
 1536 0116 4B40     		eor	r3, r1
 1537 0118 9BB2     		uxth	r3, r3
 1538 011a D31A     		sub	r3, r2, r3
 1539 011c 9BB2     		uxth	r3, r3
 1540 011e 9AB2     		uxth	r2, r3
 1541 0120 4C4B     		ldr	r3, .L55+52
 1542 0122 1A80     		strh	r2, [r3]
 387:../Sources/main.c **** 	
 388:../Sources/main.c **** 	if(vitesseG < vit_min)
 1543              		.loc 1 388 0
 1544 0124 4A4B     		ldr	r3, .L55+48
 1545 0126 1A88     		ldrh	r2, [r3]
 1546 0128 4B4B     		ldr	r3, .L55+56
 1547 012a 1B88     		ldrh	r3, [r3]
 1548 012c 12B2     		sxth	r2, r2
 1549 012e 1BB2     		sxth	r3, r3
 1550 0130 9A42     		cmp	r2, r3
 1551 0132 03DA     		bge	.L47
 389:../Sources/main.c **** 		vitesseG = vit_min;
 1552              		.loc 1 389 0
 1553 0134 484B     		ldr	r3, .L55+56
 1554 0136 1A88     		ldrh	r2, [r3]
 1555 0138 454B     		ldr	r3, .L55+48
 1556 013a 1A80     		strh	r2, [r3]
 1557              	.L47:
 390:../Sources/main.c **** 	
 391:../Sources/main.c **** 	if(vitesseD < vit_min)
 1558              		.loc 1 391 0
 1559 013c 454B     		ldr	r3, .L55+52
 1560 013e 1A88     		ldrh	r2, [r3]
 1561 0140 454B     		ldr	r3, .L55+56
 1562 0142 1B88     		ldrh	r3, [r3]
 1563 0144 12B2     		sxth	r2, r2
 1564 0146 1BB2     		sxth	r3, r3
 1565 0148 9A42     		cmp	r2, r3
 1566 014a 03DA     		bge	.L48
 392:../Sources/main.c **** 			vitesseD = vit_min;
 1567              		.loc 1 392 0
 1568 014c 424B     		ldr	r3, .L55+56
 1569 014e 1A88     		ldrh	r2, [r3]
 1570 0150 404B     		ldr	r3, .L55+52
 1571 0152 1A80     		strh	r2, [r3]
 1572              	.L48:
 393:../Sources/main.c **** 	//TERMINAL_PRINTF("VitesseG=%f, VitesseD=%f \r\n", vitesseG, vitesseD);		
 394:../Sources/main.c **** 
 395:../Sources/main.c **** 
 396:../Sources/main.c **** 	if(pid_diff > 0 && pid_diff > differentiel_max )
 1573              		.loc 1 396 0
 1574 0154 3B1D     		add	r3, r7, #4
 1575 0156 0022     		mov	r2, #0
 1576 0158 9B5E     		ldrsh	r3, [r3, r2]
 1577 015a 002B     		cmp	r3, #0
 1578 015c 0CDD     		ble	.L49
 1579              		.loc 1 396 0 is_stmt 0
 1580 015e 3F4B     		ldr	r3, .L55+60
 1581 0160 1B88     		ldrh	r3, [r3]
 1582 0162 3A1D     		add	r2, r7, #4
 1583 0164 0021     		mov	r1, #0
 1584 0166 525E     		ldrsh	r2, [r2, r1]
 1585 0168 1BB2     		sxth	r3, r3
 1586 016a 9A42     		cmp	r2, r3
 1587 016c 04DD     		ble	.L49
 397:../Sources/main.c **** 		pid_diff = differentiel_max;
 1588              		.loc 1 397 0 is_stmt 1
 1589 016e 3B1D     		add	r3, r7, #4
 1590 0170 3A4A     		ldr	r2, .L55+60
 1591 0172 1288     		ldrh	r2, [r2]
 1592 0174 1A80     		strh	r2, [r3]
 1593 0176 13E0     		b	.L50
 1594              	.L49:
 398:../Sources/main.c **** 	else if (pid_diff < 0 && pid_diff < differentiel_max )
 1595              		.loc 1 398 0
 1596 0178 3B1D     		add	r3, r7, #4
 1597 017a 0022     		mov	r2, #0
 1598 017c 9B5E     		ldrsh	r3, [r3, r2]
 1599 017e 002B     		cmp	r3, #0
 1600 0180 0EDA     		bge	.L50
 1601              		.loc 1 398 0 is_stmt 0
 1602 0182 364B     		ldr	r3, .L55+60
 1603 0184 1B88     		ldrh	r3, [r3]
 1604 0186 3A1D     		add	r2, r7, #4
 1605 0188 0021     		mov	r1, #0
 1606 018a 525E     		ldrsh	r2, [r2, r1]
 1607 018c 1BB2     		sxth	r3, r3
 1608 018e 9A42     		cmp	r2, r3
 1609 0190 06DA     		bge	.L50
 399:../Sources/main.c **** 		pid_diff = -differentiel_max;
 1610              		.loc 1 399 0 is_stmt 1
 1611 0192 324B     		ldr	r3, .L55+60
 1612 0194 1B88     		ldrh	r3, [r3]
 1613 0196 9BB2     		uxth	r3, r3
 1614 0198 5B42     		neg	r3, r3
 1615 019a 9AB2     		uxth	r2, r3
 1616 019c 3B1D     		add	r3, r7, #4
 1617 019e 1A80     		strh	r2, [r3]
 1618              	.L50:
 400:../Sources/main.c **** 	
 401:../Sources/main.c **** 	
 402:../Sources/main.c **** 	vitesseG = vitesseG - pid_diff;
 1619              		.loc 1 402 0
 1620 01a0 2B4B     		ldr	r3, .L55+48
 1621 01a2 1B88     		ldrh	r3, [r3]
 1622 01a4 9AB2     		uxth	r2, r3
 1623 01a6 3B1D     		add	r3, r7, #4
 1624 01a8 1B88     		ldrh	r3, [r3]
 1625 01aa D31A     		sub	r3, r2, r3
 1626 01ac 9BB2     		uxth	r3, r3
 1627 01ae 9AB2     		uxth	r2, r3
 1628 01b0 274B     		ldr	r3, .L55+48
 1629 01b2 1A80     		strh	r2, [r3]
 403:../Sources/main.c **** 	vitesseD = vitesseD + pid_diff;
 1630              		.loc 1 403 0
 1631 01b4 274B     		ldr	r3, .L55+52
 1632 01b6 1B88     		ldrh	r3, [r3]
 1633 01b8 9AB2     		uxth	r2, r3
 1634 01ba 3B1D     		add	r3, r7, #4
 1635 01bc 1B88     		ldrh	r3, [r3]
 1636 01be D318     		add	r3, r2, r3
 1637 01c0 9BB2     		uxth	r3, r3
 1638 01c2 9AB2     		uxth	r2, r3
 1639 01c4 234B     		ldr	r3, .L55+52
 1640 01c6 1A80     		strh	r2, [r3]
 404:../Sources/main.c **** 
 405:../Sources/main.c **** 	//TERMINAL_PRINTF("2 VitesseG=%f, VitesseD=%f \r\n", vitesseG, vitesseD);		
 406:../Sources/main.c **** 
 407:../Sources/main.c **** 	if(vitesseG > 1000) vitesseG=1000;
 1641              		.loc 1 407 0
 1642 01c8 214B     		ldr	r3, .L55+48
 1643 01ca 1B88     		ldrh	r3, [r3]
 1644 01cc 1AB2     		sxth	r2, r3
 1645 01ce FA23     		mov	r3, #250
 1646 01d0 9B00     		lsl	r3, r3, #2
 1647 01d2 9A42     		cmp	r2, r3
 1648 01d4 04DD     		ble	.L51
 1649              		.loc 1 407 0 is_stmt 0
 1650 01d6 1E4B     		ldr	r3, .L55+48
 1651 01d8 FA22     		mov	r2, #250
 1652 01da 9200     		lsl	r2, r2, #2
 1653 01dc 1A80     		strh	r2, [r3]
 1654 01de 07E0     		b	.L52
 1655              	.L51:
 408:../Sources/main.c **** 	else if(vitesseG < 0) vitesseG = 0;
 1656              		.loc 1 408 0 is_stmt 1
 1657 01e0 1B4B     		ldr	r3, .L55+48
 1658 01e2 1B88     		ldrh	r3, [r3]
 1659 01e4 1BB2     		sxth	r3, r3
 1660 01e6 002B     		cmp	r3, #0
 1661 01e8 02DA     		bge	.L52
 1662              		.loc 1 408 0 is_stmt 0
 1663 01ea 194B     		ldr	r3, .L55+48
 1664 01ec 0022     		mov	r2, #0
 1665 01ee 1A80     		strh	r2, [r3]
 1666              	.L52:
 409:../Sources/main.c **** 
 410:../Sources/main.c **** 	if(vitesseD > 1000) vitesseD=1000;
 1667              		.loc 1 410 0 is_stmt 1
 1668 01f0 184B     		ldr	r3, .L55+52
 1669 01f2 1B88     		ldrh	r3, [r3]
 1670 01f4 1AB2     		sxth	r2, r3
 1671 01f6 FA23     		mov	r3, #250
 1672 01f8 9B00     		lsl	r3, r3, #2
 1673 01fa 9A42     		cmp	r2, r3
 1674 01fc 04DD     		ble	.L53
 1675              		.loc 1 410 0 is_stmt 0
 1676 01fe 154B     		ldr	r3, .L55+52
 1677 0200 FA22     		mov	r2, #250
 1678 0202 9200     		lsl	r2, r2, #2
 1679 0204 1A80     		strh	r2, [r3]
 1680 0206 07E0     		b	.L44
 1681              	.L53:
 411:../Sources/main.c **** 	else if(vitesseD < 0) vitesseD = 0;
 1682              		.loc 1 411 0 is_stmt 1
 1683 0208 124B     		ldr	r3, .L55+52
 1684 020a 1B88     		ldrh	r3, [r3]
 1685 020c 1BB2     		sxth	r3, r3
 1686 020e 002B     		cmp	r3, #0
 1687 0210 02DA     		bge	.L44
 1688              		.loc 1 411 0 is_stmt 0
 1689 0212 104B     		ldr	r3, .L55+52
 1690 0214 0022     		mov	r2, #0
 1691 0216 1A80     		strh	r2, [r3]
 1692              	.L44:
 412:../Sources/main.c **** 	
 413:../Sources/main.c **** 	/*
 414:../Sources/main.c **** 	
 415:../Sources/main.c **** 	if( abs(error) <= 2 )
 416:../Sources/main.c **** 	{
 417:../Sources/main.c **** 		vitesseG = vit_max;
 418:../Sources/main.c **** 		vitesseD = vit_max;
 419:../Sources/main.c **** 	}
 420:../Sources/main.c **** 	*/
 421:../Sources/main.c **** 	
 422:../Sources/main.c **** 	//Pour dbug utiliser : 
 423:../Sources/main.c **** 	
 424:../Sources/main.c **** 	
 425:../Sources/main.c **** 
 426:../Sources/main.c **** 	/* Jerome Proportionnel et intgrer  la commande de la direction*/
 427:../Sources/main.c **** 	/*
 428:../Sources/main.c **** 	float offset=0; 
 429:../Sources/main.c **** 	float differentiel=diff/(35*4), temp=0;// entre -0.25 et 0.25
 430:../Sources/main.c **** 	static float I_differentiel=0.0;
 431:../Sources/main.c **** 
 432:../Sources/main.c **** 	I_differentiel += differentiel;
 433:../Sources/main.c **** 
 434:../Sources/main.c **** 	if(I_differentiel > 10.0) I_differentiel = 10.0;
 435:../Sources/main.c **** 	else if (I_differentiel < -10.0) I_differentiel = -10.0;
 436:../Sources/main.c **** 	// vitesse moyenne en fonction du potar
 437:../Sources/main.c **** /*	if( offset < VITMIN) offset = 0.3; //min
 438:../Sources/main.c **** 	else if(offset > 0.75) offset = 0.75; // max 0.75
 439:../Sources/main.c **** 	 */
 440:../Sources/main.c **** 	/*
 441:../Sources/main.c **** 	if(I_differentiel < 0) temp = I_differentiel * (-1.0) *0.1;
 442:../Sources/main.c **** 	else  temp = I_differentiel * 0.1;
 443:../Sources/main.c **** 	//vitesse moyenne en fonction de l'integrale de la position(diff) et vitesse max = potar
 444:../Sources/main.c **** 	offset = TFC_ReadPot(1)-temp;
 445:../Sources/main.c **** 
 446:../Sources/main.c **** 	/* bornes offset */
 447:../Sources/main.c **** 	/*
 448:../Sources/main.c **** 	if(offset < VITMIN) offset = VITMIN; //0.3
 449:../Sources/main.c **** 	else if(offset > 0.9) offset = 0.9;
 450:../Sources/main.c **** 
 451:../Sources/main.c **** 	vitesseG=offset+differentiel;
 452:../Sources/main.c **** 	vitesseD=offset-differentiel;
 453:../Sources/main.c **** 
 454:../Sources/main.c **** 	TERMINAL_PRINTF("\rI_diff: %d\ntemp: %d\npotar: %d\noffset: %d\nvitG : %d\nvitD : %d\n\r",(int)(I_
 455:../Sources/main.c **** 			(int) (temp*1000.0), (int)(TFC_ReadPot(1)*1000.0), (int)(offset*1000.0), (int)(vitesseG*1000.0),
 456:../Sources/main.c **** 
 457:../Sources/main.c **** 	if(vitesseG > 1.0) vitesseG=1.0;
 458:../Sources/main.c **** 	else if(vitesseG < 0.0) vitesseG = 0.0;
 459:../Sources/main.c **** 
 460:../Sources/main.c **** 	if(vitesseD > 1.0) vitesseD=1.0;
 461:../Sources/main.c **** 	else if(vitesseD < 0.0) vitesseD = 0.0;*/
 462:../Sources/main.c **** 
 463:../Sources/main.c **** }
 1693              		.loc 1 463 0 is_stmt 1
 1694 0218 BD46     		mov	sp, r7
 1695 021a 02B0     		add	sp, sp, #8
 1696              		@ sp needed for prologue
 1697 021c 80BD     		pop	{r7, pc}
 1698              	.L56:
 1699 021e C046     		.align	2
 1700              	.L55:
 1701 0220 00000000 		.word	error.5331
 1702 0224 00000000 		.word	last_error.5332
 1703 0228 00000000 		.word	posCenter
 1704 022c 00000000 		.word	coeff_speed_P
 1705 0230 00000000 		.word	coeff_speed_D
 1706 0234 00000000 		.word	coeff_speed_I
 1707 0238 00000000 		.word	coeff_diff_P
 1708 023c 00000000 		.word	coeff_diff_D
 1709 0240 00000000 		.word	coeff_diff_I
 1710 0244 00000000 		.word	pid_speedCopy
 1711 0248 00000000 		.word	pid_diffCopy
 1712 024c 00000000 		.word	vit_max
 1713 0250 00000000 		.word	vitesseG
 1714 0254 00000000 		.word	vitesseD
 1715 0258 00000000 		.word	vit_min
 1716 025c 00000000 		.word	differentiel_max
 1717              		.cfi_endproc
 1718              	.LFE4:
 1720              		.global	__aeabi_f2d
 1721              		.global	__aeabi_dcmple
 1722              		.section	.text.Update_LED,"ax",%progbits
 1723              		.align	2
 1724              		.global	Update_LED
 1725              		.code	16
 1726              		.thumb_func
 1728              	Update_LED:
 1729              	.LFB5:
 464:../Sources/main.c **** 
 465:../Sources/main.c **** 
 466:../Sources/main.c **** void Update_LED(void)
 467:../Sources/main.c **** {
 1730              		.loc 1 467 0
 1731              		.cfi_startproc
 1732 0000 90B5     		push	{r4, r7, lr}
 1733              	.LCFI15:
 1734              		.cfi_def_cfa_offset 12
 1735              		.cfi_offset 4, -12
 1736              		.cfi_offset 7, -8
 1737              		.cfi_offset 14, -4
 1738 0002 83B0     		sub	sp, sp, #12
 1739              	.LCFI16:
 1740              		.cfi_def_cfa_offset 24
 1741 0004 00AF     		add	r7, sp, #0
 1742              	.LCFI17:
 1743              		.cfi_def_cfa_register 7
 468:../Sources/main.c **** 	//extern int16_t min_d2;
 469:../Sources/main.c **** 	extern int16_t max_d2;
 470:../Sources/main.c **** 	float Vbat=0;
 1744              		.loc 1 470 0
 1745 0006 0023     		mov	r3, #0
 1746 0008 7B60     		str	r3, [r7, #4]
 471:../Sources/main.c **** 	/* Update Min the Led battery (Signal Quality ) */
 472:../Sources/main.c **** 	//minmaxcam(derivate2, &min_cam, &max_cam);
 473:../Sources/main.c **** 	//TERMINAL_PRINTF("Max value : %d \n\r", max_cam);
 474:../Sources/main.c **** 
 475:../Sources/main.c **** 	if(TFC_PUSH_BUTTON_1_PRESSED) /* battery voltage  */
 1747              		.loc 1 475 0
 1748 000a 7B4B     		ldr	r3, .L85+32
 1749 000c 1A69     		ldr	r2, [r3, #16]
 1750 000e 8023     		mov	r3, #128
 1751 0010 9B02     		lsl	r3, r3, #10
 1752 0012 1340     		and	r3, r2
 1753 0014 4FD0     		beq	.L58
 476:../Sources/main.c **** 	{
 477:../Sources/main.c **** 		Vbat = TFC_ReadBatteryVoltage();
 1754              		.loc 1 477 0
 1755 0016 FFF7FEFF 		bl	TFC_ReadBatteryVoltage
 1756 001a 031C     		add	r3, r0, #0
 1757 001c 7B60     		str	r3, [r7, #4]
 478:../Sources/main.c **** 		if(Vbat <= 1.1) TFC_SetBatteryLED_Level(0);
 1758              		.loc 1 478 0
 1759 001e 7868     		ldr	r0, [r7, #4]
 1760 0020 FFF7FEFF 		bl	__aeabi_f2d
 1761 0024 031C     		mov	r3, r0
 1762 0026 0C1C     		mov	r4, r1
 1763 0028 181C     		mov	r0, r3
 1764 002a 211C     		mov	r1, r4
 1765 002c 6B4B     		ldr	r3, .L85+4
 1766 002e 6A4A     		ldr	r2, .L85
 1767 0030 FFF7FEFF 		bl	__aeabi_dcmple
 1768 0034 031C     		mov	r3, r0
 1769 0036 002B     		cmp	r3, #0
 1770 0038 03D0     		beq	.L80
 1771              	.L76:
 1772              		.loc 1 478 0 is_stmt 0
 1773 003a 0020     		mov	r0, #0
 1774 003c FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 1775 0040 C4E0     		b	.L57
 1776              	.L80:
 479:../Sources/main.c **** 		else if(Vbat <= 1.17 ) TFC_SetBatteryLED_Level(1);
 1777              		.loc 1 479 0 is_stmt 1
 1778 0042 7868     		ldr	r0, [r7, #4]
 1779 0044 FFF7FEFF 		bl	__aeabi_f2d
 1780 0048 031C     		mov	r3, r0
 1781 004a 0C1C     		mov	r4, r1
 1782 004c 181C     		mov	r0, r3
 1783 004e 211C     		mov	r1, r4
 1784 0050 634A     		ldr	r2, .L85+8
 1785 0052 644B     		ldr	r3, .L85+12
 1786 0054 FFF7FEFF 		bl	__aeabi_dcmple
 1787 0058 031C     		mov	r3, r0
 1788 005a 002B     		cmp	r3, #0
 1789 005c 03D0     		beq	.L81
 1790              	.L77:
 1791              		.loc 1 479 0 is_stmt 0
 1792 005e 0120     		mov	r0, #1
 1793 0060 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 1794 0064 B2E0     		b	.L57
 1795              	.L81:
 480:../Sources/main.c **** 		else if(Vbat <= 1.27 ) TFC_SetBatteryLED_Level(2);
 1796              		.loc 1 480 0 is_stmt 1
 1797 0066 7868     		ldr	r0, [r7, #4]
 1798 0068 FFF7FEFF 		bl	__aeabi_f2d
 1799 006c 031C     		mov	r3, r0
 1800 006e 0C1C     		mov	r4, r1
 1801 0070 181C     		mov	r0, r3
 1802 0072 211C     		mov	r1, r4
 1803 0074 5C4A     		ldr	r2, .L85+16
 1804 0076 5D4B     		ldr	r3, .L85+20
 1805 0078 FFF7FEFF 		bl	__aeabi_dcmple
 1806 007c 031C     		mov	r3, r0
 1807 007e 002B     		cmp	r3, #0
 1808 0080 03D0     		beq	.L82
 1809              	.L78:
 1810              		.loc 1 480 0 is_stmt 0
 1811 0082 0220     		mov	r0, #2
 1812 0084 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 1813 0088 A0E0     		b	.L57
 1814              	.L82:
 481:../Sources/main.c **** 		else if(Vbat <= 1.42 ) TFC_SetBatteryLED_Level(3);
 1815              		.loc 1 481 0 is_stmt 1
 1816 008a 7868     		ldr	r0, [r7, #4]
 1817 008c FFF7FEFF 		bl	__aeabi_f2d
 1818 0090 031C     		mov	r3, r0
 1819 0092 0C1C     		mov	r4, r1
 1820 0094 181C     		mov	r0, r3
 1821 0096 211C     		mov	r1, r4
 1822 0098 554A     		ldr	r2, .L85+24
 1823 009a 564B     		ldr	r3, .L85+28
 1824 009c FFF7FEFF 		bl	__aeabi_dcmple
 1825 00a0 031C     		mov	r3, r0
 1826 00a2 002B     		cmp	r3, #0
 1827 00a4 03D0     		beq	.L83
 1828              	.L79:
 1829              		.loc 1 481 0 is_stmt 0
 1830 00a6 0320     		mov	r0, #3
 1831 00a8 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 1832 00ac 8EE0     		b	.L57
 1833              	.L83:
 482:../Sources/main.c **** 		else TFC_SetBatteryLED_Level(4);
 1834              		.loc 1 482 0 is_stmt 1
 1835 00ae 0420     		mov	r0, #4
 1836 00b0 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 1837 00b4 8AE0     		b	.L57
 1838              	.L58:
 483:../Sources/main.c **** 	}
 484:../Sources/main.c **** 	else
 485:../Sources/main.c **** 		switch(cur_state)
 1839              		.loc 1 485 0
 1840 00b6 514B     		ldr	r3, .L85+36
 1841 00b8 1B78     		ldrb	r3, [r3]
 1842 00ba 5BB2     		sxtb	r3, r3
 1843 00bc 002B     		cmp	r3, #0
 1844 00be 03D0     		beq	.L69
 1845 00c0 012B     		cmp	r3, #1
 1846 00c2 00D1     		bne	.LCB1420
 1847 00c4 7BE0     		b	.L70	@long jump
 1848              	.LCB1420:
 1849 00c6 7EE0     		b	.L84
 1850              	.L69:
 486:../Sources/main.c **** 		{
 487:../Sources/main.c **** 		case DEBUG: /*  Quality of the signal  */
 488:../Sources/main.c **** 			if(max_d2 > SEUIL_DETECTION_4)
 1851              		.loc 1 488 0
 1852 00c8 4D4B     		ldr	r3, .L85+40
 1853 00ca 1B88     		ldrh	r3, [r3]
 1854 00cc 1AB2     		sxth	r2, r3
 1855 00ce 4D4B     		ldr	r3, .L85+44
 1856 00d0 1B88     		ldrh	r3, [r3]
 1857 00d2 9A42     		cmp	r2, r3
 1858 00d4 10DD     		ble	.L71
 489:../Sources/main.c **** 			{
 490:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 1859              		.loc 1 490 0
 1860 00d6 4C4B     		ldr	r3, .L85+48
 1861 00d8 8022     		mov	r2, #128
 1862 00da 5200     		lsl	r2, r2, #1
 1863 00dc 5A60     		str	r2, [r3, #4]
 491:../Sources/main.c **** 				TFC_BAT_LED1_ON;
 1864              		.loc 1 491 0
 1865 00de 4A4B     		ldr	r3, .L85+48
 1866 00e0 8022     		mov	r2, #128
 1867 00e2 9200     		lsl	r2, r2, #2
 1868 00e4 5A60     		str	r2, [r3, #4]
 492:../Sources/main.c **** 				TFC_BAT_LED2_ON;
 1869              		.loc 1 492 0
 1870 00e6 484B     		ldr	r3, .L85+48
 1871 00e8 8022     		mov	r2, #128
 1872 00ea D200     		lsl	r2, r2, #3
 1873 00ec 5A60     		str	r2, [r3, #4]
 493:../Sources/main.c **** 				TFC_BAT_LED3_ON;
 1874              		.loc 1 493 0
 1875 00ee 464B     		ldr	r3, .L85+48
 1876 00f0 8022     		mov	r2, #128
 1877 00f2 1201     		lsl	r2, r2, #4
 1878 00f4 5A60     		str	r2, [r3, #4]
 494:../Sources/main.c **** 				//TFC_BAT_LED(0x0F);
 495:../Sources/main.c **** 
 496:../Sources/main.c **** 			}
 497:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_3)
 498:../Sources/main.c **** 			{
 499:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 500:../Sources/main.c **** 				TFC_BAT_LED1_ON;
 501:../Sources/main.c **** 				TFC_BAT_LED2_ON;
 502:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 503:../Sources/main.c **** 
 504:../Sources/main.c **** 				//TFC_BAT_LED(0x07);
 505:../Sources/main.c **** 			}				
 506:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_2)
 507:../Sources/main.c **** 			{
 508:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 509:../Sources/main.c **** 				TFC_BAT_LED1_ON;
 510:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 511:../Sources/main.c **** 				TFC_BAT_LED3_OFF;	
 512:../Sources/main.c **** 				//TFC_BAT_LED(0x03);
 513:../Sources/main.c **** 
 514:../Sources/main.c **** 			}
 515:../Sources/main.c **** 
 516:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_1)
 517:../Sources/main.c **** 			{
 518:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 519:../Sources/main.c **** 				TFC_BAT_LED1_OFF;
 520:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 521:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 522:../Sources/main.c **** 				//TFC_BAT_LED(0x01);
 523:../Sources/main.c **** 			}
 524:../Sources/main.c **** 			else
 525:../Sources/main.c **** 			{
 526:../Sources/main.c **** 				TFC_BAT_LED0_OFF;
 527:../Sources/main.c **** 				TFC_BAT_LED1_OFF;
 528:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 529:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 530:../Sources/main.c **** 				//TFC_BAT_LED(0x00);
 531:../Sources/main.c **** 			}
 532:../Sources/main.c **** 			break;
 1879              		.loc 1 532 0
 1880 00f6 69E0     		b	.L57
 1881              	.L71:
 497:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_3)
 1882              		.loc 1 497 0
 1883 00f8 414B     		ldr	r3, .L85+40
 1884 00fa 1B88     		ldrh	r3, [r3]
 1885 00fc 1AB2     		sxth	r2, r3
 1886 00fe 414B     		ldr	r3, .L85+44
 1887 0100 1B88     		ldrh	r3, [r3]
 1888 0102 191C     		mov	r1, r3
 1889 0104 3F4B     		ldr	r3, .L85+44
 1890 0106 1B88     		ldrh	r3, [r3]
 1891 0108 9B08     		lsr	r3, r3, #2
 1892 010a 9BB2     		uxth	r3, r3
 1893 010c CB1A     		sub	r3, r1, r3
 1894 010e 9A42     		cmp	r2, r3
 1895 0110 10DB     		blt	.L73
 499:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 1896              		.loc 1 499 0
 1897 0112 3D4B     		ldr	r3, .L85+48
 1898 0114 8022     		mov	r2, #128
 1899 0116 5200     		lsl	r2, r2, #1
 1900 0118 5A60     		str	r2, [r3, #4]
 500:../Sources/main.c **** 				TFC_BAT_LED1_ON;
 1901              		.loc 1 500 0
 1902 011a 3B4B     		ldr	r3, .L85+48
 1903 011c 8022     		mov	r2, #128
 1904 011e 9200     		lsl	r2, r2, #2
 1905 0120 5A60     		str	r2, [r3, #4]
 501:../Sources/main.c **** 				TFC_BAT_LED2_ON;
 1906              		.loc 1 501 0
 1907 0122 394B     		ldr	r3, .L85+48
 1908 0124 8022     		mov	r2, #128
 1909 0126 D200     		lsl	r2, r2, #3
 1910 0128 5A60     		str	r2, [r3, #4]
 502:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 1911              		.loc 1 502 0
 1912 012a 374B     		ldr	r3, .L85+48
 1913 012c 8022     		mov	r2, #128
 1914 012e 1201     		lsl	r2, r2, #4
 1915 0130 9A60     		str	r2, [r3, #8]
 1916              		.loc 1 532 0
 1917 0132 4BE0     		b	.L57
 1918              	.L73:
 506:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_2)
 1919              		.loc 1 506 0
 1920 0134 324B     		ldr	r3, .L85+40
 1921 0136 1B88     		ldrh	r3, [r3]
 1922 0138 1AB2     		sxth	r2, r3
 1923 013a 324B     		ldr	r3, .L85+44
 1924 013c 1B88     		ldrh	r3, [r3]
 1925 013e 5B08     		lsr	r3, r3, #1
 1926 0140 9BB2     		uxth	r3, r3
 1927 0142 9A42     		cmp	r2, r3
 1928 0144 10DB     		blt	.L74
 508:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 1929              		.loc 1 508 0
 1930 0146 304B     		ldr	r3, .L85+48
 1931 0148 8022     		mov	r2, #128
 1932 014a 5200     		lsl	r2, r2, #1
 1933 014c 5A60     		str	r2, [r3, #4]
 509:../Sources/main.c **** 				TFC_BAT_LED1_ON;
 1934              		.loc 1 509 0
 1935 014e 2E4B     		ldr	r3, .L85+48
 1936 0150 8022     		mov	r2, #128
 1937 0152 9200     		lsl	r2, r2, #2
 1938 0154 5A60     		str	r2, [r3, #4]
 510:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 1939              		.loc 1 510 0
 1940 0156 2C4B     		ldr	r3, .L85+48
 1941 0158 8022     		mov	r2, #128
 1942 015a D200     		lsl	r2, r2, #3
 1943 015c 9A60     		str	r2, [r3, #8]
 511:../Sources/main.c **** 				TFC_BAT_LED3_OFF;	
 1944              		.loc 1 511 0
 1945 015e 2A4B     		ldr	r3, .L85+48
 1946 0160 8022     		mov	r2, #128
 1947 0162 1201     		lsl	r2, r2, #4
 1948 0164 9A60     		str	r2, [r3, #8]
 1949              		.loc 1 532 0
 1950 0166 31E0     		b	.L57
 1951              	.L74:
 516:../Sources/main.c **** 			else if (max_d2 >= SEUIL_DETECTION_1)
 1952              		.loc 1 516 0
 1953 0168 254B     		ldr	r3, .L85+40
 1954 016a 1B88     		ldrh	r3, [r3]
 1955 016c 1AB2     		sxth	r2, r3
 1956 016e 254B     		ldr	r3, .L85+44
 1957 0170 1B88     		ldrh	r3, [r3]
 1958 0172 9B08     		lsr	r3, r3, #2
 1959 0174 9BB2     		uxth	r3, r3
 1960 0176 9A42     		cmp	r2, r3
 1961 0178 10DB     		blt	.L75
 518:../Sources/main.c **** 				TFC_BAT_LED0_ON;
 1962              		.loc 1 518 0
 1963 017a 234B     		ldr	r3, .L85+48
 1964 017c 8022     		mov	r2, #128
 1965 017e 5200     		lsl	r2, r2, #1
 1966 0180 5A60     		str	r2, [r3, #4]
 519:../Sources/main.c **** 				TFC_BAT_LED1_OFF;
 1967              		.loc 1 519 0
 1968 0182 214B     		ldr	r3, .L85+48
 1969 0184 8022     		mov	r2, #128
 1970 0186 9200     		lsl	r2, r2, #2
 1971 0188 9A60     		str	r2, [r3, #8]
 520:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 1972              		.loc 1 520 0
 1973 018a 1F4B     		ldr	r3, .L85+48
 1974 018c 8022     		mov	r2, #128
 1975 018e D200     		lsl	r2, r2, #3
 1976 0190 9A60     		str	r2, [r3, #8]
 521:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 1977              		.loc 1 521 0
 1978 0192 1D4B     		ldr	r3, .L85+48
 1979 0194 8022     		mov	r2, #128
 1980 0196 1201     		lsl	r2, r2, #4
 1981 0198 9A60     		str	r2, [r3, #8]
 1982              		.loc 1 532 0
 1983 019a 17E0     		b	.L57
 1984              	.L75:
 526:../Sources/main.c **** 				TFC_BAT_LED0_OFF;
 1985              		.loc 1 526 0
 1986 019c 1A4B     		ldr	r3, .L85+48
 1987 019e 8022     		mov	r2, #128
 1988 01a0 5200     		lsl	r2, r2, #1
 1989 01a2 9A60     		str	r2, [r3, #8]
 527:../Sources/main.c **** 				TFC_BAT_LED1_OFF;
 1990              		.loc 1 527 0
 1991 01a4 184B     		ldr	r3, .L85+48
 1992 01a6 8022     		mov	r2, #128
 1993 01a8 9200     		lsl	r2, r2, #2
 1994 01aa 9A60     		str	r2, [r3, #8]
 528:../Sources/main.c **** 				TFC_BAT_LED2_OFF;
 1995              		.loc 1 528 0
 1996 01ac 164B     		ldr	r3, .L85+48
 1997 01ae 8022     		mov	r2, #128
 1998 01b0 D200     		lsl	r2, r2, #3
 1999 01b2 9A60     		str	r2, [r3, #8]
 529:../Sources/main.c **** 				TFC_BAT_LED3_OFF;
 2000              		.loc 1 529 0
 2001 01b4 144B     		ldr	r3, .L85+48
 2002 01b6 8022     		mov	r2, #128
 2003 01b8 1201     		lsl	r2, r2, #4
 2004 01ba 9A60     		str	r2, [r3, #8]
 2005              		.loc 1 532 0
 2006 01bc 06E0     		b	.L57
 2007              	.L70:
 533:../Sources/main.c **** 
 534:../Sources/main.c **** 		case RUN: /* code 1 */
 535:../Sources/main.c **** 			TFC_SetBatteryLED_Level(1);
 2008              		.loc 1 535 0
 2009 01be 0120     		mov	r0, #1
 2010 01c0 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 536:../Sources/main.c **** 			break;
 2011              		.loc 1 536 0
 2012 01c4 02E0     		b	.L57
 2013              	.L84:
 537:../Sources/main.c **** 
 538:../Sources/main.c **** 		default: TFC_SetBatteryLED_Level(0);
 2014              		.loc 1 538 0
 2015 01c6 0020     		mov	r0, #0
 2016 01c8 FFF7FEFF 		bl	TFC_SetBatteryLED_Level
 2017              	.L57:
 539:../Sources/main.c **** 		}
 540:../Sources/main.c **** 
 541:../Sources/main.c **** }
 2018              		.loc 1 541 0
 2019 01cc BD46     		mov	sp, r7
 2020 01ce 03B0     		add	sp, sp, #12
 2021              		@ sp needed for prologue
 2022 01d0 90BD     		pop	{r4, r7, pc}
 2023              	.L86:
 2024 01d2 C046C046 		.align	3
 2024      C046
 2025              	.L85:
 2026 01d8 9A999999 		.word	-1717986918
 2027 01dc 9999F13F 		.word	1072798105
 2028 01e0 B81E85EB 		.word	-343597384
 2029 01e4 51B8F23F 		.word	1072871505
 2030 01e8 52B81E85 		.word	-2061584302
 2031 01ec EB51F43F 		.word	1072976363
 2032 01f0 B81E85EB 		.word	-343597384
 2033 01f4 51B8F63F 		.word	1073133649
 2034 01f8 80F00F40 		.word	1074786432
 2035 01fc 00000000 		.word	cur_state
 2036 0200 00000000 		.word	max_d2
 2037 0204 00000000 		.word	seuil_detection
 2038 0208 40F00F40 		.word	1074786368
 2039              		.cfi_endproc
 2040              	.LFE5:
 2042 020c C046C046 		.section	.bss.error.5331,"aw",%nobits
 2043              		.align	1
 2046              	error.5331:
 2047 0000 0000     		.space	2
 2048              		.section	.bss.last_error.5332,"aw",%nobits
 2049              		.align	1
 2052              	last_error.5332:
 2053 0000 0000     		.space	2
 2054              		.section	.bss.error.5323,"aw",%nobits
 2055              		.align	1
 2058              	error.5323:
 2059 0000 0000     		.space	2
 2060              		.section	.bss.last_error.5324,"aw",%nobits
 2061              		.align	1
 2064              	last_error.5324:
 2065 0000 0000     		.space	2
 2066              		.text
 2067              	.Letext0:
 2068              		.file 2 "C:/Freescale/CW MCU v10.6/MCU/ARM_GCC_Support/ewl/EWL_C/include/cstdint"
 2069              		.file 3 "C:/Users/B48861/TFC/Carcode/Project_Headers/MKL25Z4.h"
 2070              		.file 4 "C:/Users/B48861/TFC/Carcode/Project_Headers/TFC\\TFC_Queue.h"
 2071              		.file 5 "C:/Users/B48861/TFC/Carcode/Project_Headers/TFC\\TFC_ARM_SysTick.h"
 2072              		.file 6 "C:/Users/B48861/TFC/Carcode/Project_Headers/TFC\\TFC_LineScanCamera.h"
 2073              		.file 7 "C:/Users/B48861/TFC/Carcode/Project_Headers/TFC\\TFC_UART.h"
 2074              		.file 8 "C:/Users/B48861/TFC/Carcode/Project_Headers/PID.h"
 2075              		.file 9 "C:/Users/B48861/TFC/Carcode/Project_Headers/./distantio.h"
 2076              		.file 10 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:22     .data.coeff_dir_P:00000000 coeff_dir_P
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:19     .data.coeff_dir_P:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:29     .data.coeff_dir_D:00000000 coeff_dir_D
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:26     .data.coeff_dir_D:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:36     .bss.coeff_dir_I:00000000 coeff_dir_I
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:33     .bss.coeff_dir_I:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:43     .data.coeff_diff_P:00000000 coeff_diff_P
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:40     .data.coeff_diff_P:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:50     .bss.coeff_diff_I:00000000 coeff_diff_I
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:47     .bss.coeff_diff_I:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:57     .data.coeff_diff_D:00000000 coeff_diff_D
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:54     .data.coeff_diff_D:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:64     .data.coeff_speed_P:00000000 coeff_speed_P
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:61     .data.coeff_speed_P:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:71     .bss.coeff_speed_I:00000000 coeff_speed_I
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:68     .bss.coeff_speed_I:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:78     .data.coeff_speed_D:00000000 coeff_speed_D
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:75     .data.coeff_speed_D:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:85     .data.differentiel_max:00000000 differentiel_max
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:82     .data.differentiel_max:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:92     .data.vit_max:00000000 vit_max
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:89     .data.vit_max:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:99     .data.vit_min:00000000 vit_min
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:96     .data.vit_min:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:105    .bss.break_min_error:00000000 break_min_error
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:106    .bss.break_min_error:00000000 $d
                            *COM*:00000002 posCenter
                            *COM*:00000002 diff
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:114    .data.PWM_lights:00000000 PWM_lights
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:111    .data.PWM_lights:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:120    .bss.cur_state:00000000 cur_state
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:121    .bss.cur_state:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:127    .bss.vitesseG:00000000 vitesseG
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:124    .bss.vitesseG:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:134    .bss.vitesseD:00000000 vitesseD
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:131    .bss.vitesseD:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:141    .bss.lineError:00000000 lineError
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:138    .bss.lineError:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:148    .bss.Run_F:00000000 Run_F
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:145    .bss.Run_F:00000000 $d
                            *COM*:00000100 LineScanBufferCopyFiltered
                            *COM*:00000100 copyDerivate
                            *COM*:00000002 pid_speedCopy
                            *COM*:00000002 pid_diffCopy
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:159    .bss.TFC_Ticker_0_copy:00000000 TFC_Ticker_0_copy
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:156    .bss.TFC_Ticker_0_copy:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:162    .rodata:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:244    .text.main:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:249    .text.main:00000000 main
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1728   .text.Update_LED:00000000 Update_LED
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:684    .text.State_Debug:00000000 State_Debug
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:974    .text.State_Run:00000000 State_Run
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:599    .text.main:00000264 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:679    .text.State_Debug:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1193   .text.Asserv_pos:00000000 Asserv_pos
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:948    .text.State_Debug:000001c0 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:969    .text.State_Run:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1368   .text.Asserv_vit:00000000 Asserv_vit
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1171   .text.State_Run:0000012c $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1188   .text.Asserv_pos:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1351   .text.Asserv_pos:000000f4 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2058   .bss.error.5323:00000000 error.5323
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2064   .bss.last_error.5324:00000000 last_error.5324
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1363   .text.Asserv_vit:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1701   .text.Asserv_vit:00000220 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2046   .bss.error.5331:00000000 error.5331
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2052   .bss.last_error.5332:00000000 last_error.5332
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:1723   .text.Update_LED:00000000 $t
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2026   .text.Update_LED:000001d8 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2043   .bss.error.5331:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2049   .bss.last_error.5332:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2055   .bss.error.5323:00000000 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2061   .bss.last_error.5324:00000000 $d
                     .debug_frame:00000010 $d
C:\Users\B48861\AppData\Local\Temp\ccjSNmmL.s:2042   .text.Update_LED:0000020c $t

UNDEFINED SYMBOLS
TFC_Init
init_serial
init_protocol
init_distantio
register_scalar
register_array
TFC_Task
TFC_Delay_mS
TFC_GetDIP_Switch
copy_nb_line
LineScanImage1
offsetServo
seuil_detection
__aeabi_fmul
__aeabi_f2iz
TFC_SetLineScanExposureTime
getCenterPos
TFC_SetServo
Qprintf
TFC_ReadPot
TFC_SetMotorPWM
TFC_SetServoDutyCycle
update_distantio
TFC_Ticker
LineScanImageReady
PotADC_Value
SDA_SERIAL_OUTGOING_QUEUE
__aeabi_idiv
__aeabi_f2d
__aeabi_dcmple
TFC_ReadBatteryVoltage
TFC_SetBatteryLED_Level
max_d2
